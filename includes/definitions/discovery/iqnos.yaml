mib: INFINERA-ENTITY-CHASSIS-MIB:INFINERA-PM-BANDCTP-MIB:IF-MIB:INFINERA-PM-OSCCTP-MIB:INFINERA-PM-SCHCTP-MIB
modules:
    sensors:
        pre-cache:
            data:
                -
                    oid:
                        - ifName
        temperature:
            data:
                -
                    oid:  chassisTable
                    value: chassisInletTemperature
                    num_oid: '.1.3.6.1.4.1.21296.2.2.2.1.13.1.1.9.{{ $index }}'
                    descr: 'Chassis {{ $index }} Inlet'
                    index: 'chassisInletTemperature.{{ $index }}'

        dbm:
            data:
                -
                    oid: bandCtpPmRealTable
                    value: bandCtpPmRealBandOptTx
                    num_oid: '.1.3.6.1.4.1.21296.2.2.2.3.1.1.1.9.{{ $index }}'
                    descr: '{{ $ifName }} Band-C optical power transmitted'
                    index: 'bandCtpPmRealBandOptTx.{{ $index }}'
                    entPhysicalIndex: '{{ $index }}'
                    entPhysicalIndex_measured: 'ports'
                    group: '{{ $ifName }}'
                -
                    oid: bandCtpPmRealTable
                    value: bandCtpPmRealBandOpr
                    num_oid: '.1.3.6.1.4.1.21296.2.2.2.3.1.1.1.3.{{ $index }}'
                    descr: '{{ $ifName }} Band-C Optical Power Received'
                    index: 'bandCtpPmRealBandOpr.{{ $index }}'
                    entPhysicalIndex: '{{ $index }}'
                    entPhysicalIndex_measured: 'ports'
                    group: '{{ $ifName }}'
                -
                    oid: oscCtpPmRealTable
                    value: oscCtpPmRealOscOPT
                    num_oid: '.1.3.6.1.4.1.21296.2.2.2.3.10.1.1.2.{{ $index }}'
                    descr: '{{ $ifName }} OSC Optical Power Transmitted'
                    index: 'oscCtpPmRealOscOPT.{{ $index }}'
                    entPhysicalIndex: '{{ $index }}'
                    entPhysicalIndex_measured: 'ports'
                    group: '{{ $ifName }}'
                    divisor: 100
                -
                    oid: oscCtpPmRealTable
                    value: oscCtpPmRealOscOPR
                    num_oid: '.1.3.6.1.4.1.21296.2.2.2.3.10.1.1.3.{{ $index }}'
                    descr: '{{ $ifName }} OSC Optical Power Received'
                    index: 'oscCtpPmRealOscOPR.{{ $index }}'
                    entPhysicalIndex: '{{ $index }}'
                    entPhysicalIndex_measured: 'ports'
                    group: '{{ $ifName }}'
                    divisor: 100
                -
                    oid: schCtpPmRealTable
                    value: schCtpPmRealSchOpt
                    num_oid: '.1.3.6.1.4.1.21296.2.2.2.3.38.1.1.4.{{ $index }}'
                    descr: '{{ $ifName }} SCH Optical Power Transmitted'
                    index: 'schCtpPmRealSchOpt.{{ $index }}'
                    entPhysicalIndex: '{{ $index }}'
                    entPhysicalIndex_measured: 'ports'
                    group: '{{ $ifName }}'
                    divisor: 100
                -
                    oid: schCtpPmRealTable
                    value: schCtpPmRealSchOpr
                    num_oid: '.1.3.6.1.4.1.21296.2.2.2.3.38.1.1.7.{{ $index }}'
                    descr: '{{ $ifName }} SCH Optical Power Received'
                    index: 'schCtpPmRealSchOpr.{{ $index }}'
                    entPhysicalIndex: '{{ $index }}'
                    entPhysicalIndex_measured: 'ports'
                    group: '{{ $ifName }}'
                    divisor: 100
        span_loss:
            data:
                -
                    oid: bandCtpPmRealTable
                    value: bandCtpPmRealOchSpanLoss
                    num_oid: '.1.3.6.1.4.1.21296.2.2.2.3.1.1.1.1.{{ $index }}'
                    descr: '{{ $ifName }} Span Loss'
                    index: 'bandCtpPmRealOchSpanLoss.{{ $index }}'
                    entPhysicalIndex: '{{ $index }}'
                    entPhysicalIndex_measured: 'ports'
                    skip_values:
                    -
                      oid: bandCtpPmRealOchSpanLoss
                      op: '=='
                      value: '9.9000E+37'
        snr:
            data:
                -
                    oid: schCtpPmRealTable
                    value: schCtpPmRealSchTxSnr
                    num_oid: '.1.3.6.1.4.1.21296.2.2.2.3.38.1.1.10.{{ $index }}'
                    descr: '{{ $ifName }} Tx SNR'
                    index: 'schCtpPmRealSchTxSnr.{{ $index }}'
                    entPhysicalIndex: '{{ $index }}'
                    entPhysicalIndex_measured: 'ports'
                    function: 'string_to_float'
                    skip_values:
                    -
                      oid: schCtpPmRealSchTxSnr
                      op: '=='
                      value: '9.9000E+37'
