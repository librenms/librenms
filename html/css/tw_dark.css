/* ==========================================================================
   LibreNMS Dark Mode — GitHub Dark-inspired blue-gray palette
   All colors defined as CSS custom properties for easy maintenance.
   ========================================================================== */

:root.dark {
    color-scheme: dark;

    /* Surfaces (blue-gray undertone) */
    --dark-bg-base:       #0d1117;
    --dark-bg-surface:    #161b22;
    --dark-bg-overlay:    #1c2128;
    --dark-bg-subtle:     #21262d;
    --dark-bg-muted:      #30363d;
    --dark-bg-emphasis:   #3d444d;

    /* Text */
    --dark-text-primary:    #e6edf3;
    --dark-text-secondary:  #9198a1;
    --dark-text-muted:      #656d76;
    --dark-text-link:       #58a6ff;
    --dark-text-link-hover: #79c0ff;

    /* Status */
    --dark-success-fg:       #3fb950;
    --dark-success-bg:       #1a3a2a;
    --dark-success-emphasis:  #238636;
    --dark-danger-fg:        #f85149;
    --dark-danger-bg:        #3d1c1c;
    --dark-danger-emphasis:   #da3633;
    --dark-warning-fg:       #d29922;
    --dark-warning-bg:       #3d2e00;
    --dark-warning-emphasis:  #9e6a03;
    --dark-info-fg:          #58a6ff;
    --dark-info-bg:          #1a2d4a;
    --dark-info-emphasis:     #1f6feb;

    /* Forms */
    --dark-input-bg:      #0d1117;
    --dark-input-border:  #30363d;
    --dark-input-text:    #e6edf3;
    --dark-focus-border:  #58a6ff;

    /* Borders */
    --dark-border-default: #30363d;
    --dark-border-muted:   #21262d;
}

/* --------------------------------------------------------------------------
   Icons & small text
   -------------------------------------------------------------------------- */

.dark .fa-nav-icons {
    color: var(--dark-text-secondary)
}

.dark .icon-theme {
    color: var(--dark-text-secondary)
}

.dark mark {
    color: #000
}

.dark small {
    color: var(--dark-text-primary)
}

.dark button,
.dark input,
.dark select,
.dark textarea {
    color: inherit
}

/* --------------------------------------------------------------------------
   Print — force light for printing
   -------------------------------------------------------------------------- */

@media print {
    .dark *,
    .dark *:before,
    .dark *:after {
        color: #000 !important
    }

    .dark .btn > .caret {
        border-top-color: #000 !important
    }

    .dark .table td,
    .dark .table th {
        background-color: #fff !important
    }
}

/* --------------------------------------------------------------------------
   Special pages
   -------------------------------------------------------------------------- */

.dark .page-availability-report-select {
    color: #000
}

.dark .device-availability {
    color: var(--dark-text-primary)
}

.dark .service-availability {
    color: var(--dark-text-primary)
}

/* --------------------------------------------------------------------------
   Body
   -------------------------------------------------------------------------- */

.dark body {
    color: var(--dark-text-primary);
    background-color: var(--dark-bg-base)
}

/* --------------------------------------------------------------------------
   Links
   -------------------------------------------------------------------------- */

.dark a {
    color: var(--dark-text-link)
}

.dark a:hover,
.dark a:focus {
    color: var(--dark-text-link-hover)
}

/* --------------------------------------------------------------------------
   Headings
   -------------------------------------------------------------------------- */

.dark h1,
.dark h2,
.dark h3,
.dark h4,
.dark h5,
.dark h6,
.dark .h1,
.dark .h2,
.dark .h3,
.dark .h4,
.dark .h5,
.dark .h6 {
    color: inherit
}

.dark h1 small,
.dark h2 small,
.dark h3 small,
.dark h4 small,
.dark h5 small,
.dark h6 small,
.dark .h1 small,
.dark .h2 small,
.dark .h3 small,
.dark .h4 small,
.dark .h5 small,
.dark .h6 small,
.dark h1 .small,
.dark h2 .small,
.dark h3 .small,
.dark h4 .small,
.dark h5 .small,
.dark h6 .small,
.dark .h1 .small,
.dark .h2 .small,
.dark .h3 .small,
.dark .h4 .small,
.dark .h5 .small,
.dark .h6 .small {
    color: var(--dark-text-secondary)
}

/* --------------------------------------------------------------------------
   Mark / highlight
   -------------------------------------------------------------------------- */

.dark mark,
.dark .mark {
    background-color: var(--dark-warning-fg)
}

/* --------------------------------------------------------------------------
   Contextual text colors
   -------------------------------------------------------------------------- */

.dark .text-muted {
    color: var(--dark-text-muted)
}

.dark .text-primary,
.dark .text-primary:hover {
    color: var(--dark-text-secondary)
}

.dark .text-success,
.dark .text-success:hover {
    color: var(--dark-success-fg)
}

.dark .text-danger,
.dark .text-danger:hover {
    color: var(--dark-danger-fg)
}

.dark .text-warning,
.dark .text-warning:hover {
    color: var(--dark-warning-fg)
}

.dark .text-info,
.dark .text-info:hover {
    color: var(--dark-info-fg)
}

/* --------------------------------------------------------------------------
   Contextual backgrounds
   -------------------------------------------------------------------------- */

.dark .bg-success {
    background-color: var(--dark-success-bg)
}

.dark a.bg-success:hover,
.dark a.bg-success:focus {
    background-color: var(--dark-success-emphasis)
}

.dark .bg-info {
    background-color: var(--dark-info-bg)
}

.dark a.bg-info:hover,
.dark a.bg-info:focus {
    background-color: var(--dark-info-emphasis)
}

.dark .bg-danger {
    background-color: var(--dark-danger-bg)
}

.dark a.bg-danger:hover,
.dark a.bg-danger:focus {
    background-color: var(--dark-danger-emphasis)
}

/* --------------------------------------------------------------------------
   Blockquote
   -------------------------------------------------------------------------- */

.dark blockquote footer,
.dark blockquote small,
.dark blockquote .small {
    color: var(--dark-text-secondary)
}

/* --------------------------------------------------------------------------
   Code & Pre — FIX: was pink-on-pink / light bg
   -------------------------------------------------------------------------- */

.dark code {
    color: #f0883e;
    background-color: var(--dark-bg-subtle)
}

.dark pre {
    color: var(--dark-text-primary);
    background-color: var(--dark-bg-surface);
    border-color: var(--dark-border-default)
}

.dark pre code {
    color: inherit;
    background-color: transparent
}

/* --------------------------------------------------------------------------
   Tables
   -------------------------------------------------------------------------- */

.dark table {
    background-color: var(--dark-bg-surface)
}

.dark .table .table {
    background-color: var(--dark-bg-base)
}

.dark .table-striped > tbody > tr:nth-of-type(odd) {
    background-color: var(--dark-bg-subtle)
}

.dark .table-hover > tbody > tr:hover {
    background-color: var(--dark-bg-muted)
}

.dark .table > thead > tr > th {
    border-bottom-color: var(--dark-border-default);
}

.dark .table > tbody > tr > td,
.dark .table > tbody > tr > th,
.dark .table > tfoot > tr > td,
.dark .table > tfoot > tr > th,
.dark .table > thead > tr > td,
.dark .table > thead > tr > th {
    border-top-color: var(--dark-border-default);
}

.dark .table > thead > tr > td.active,
.dark .table > tbody > tr > td.active,
.dark .table > thead > tr > th.active,
.dark .table > tbody > tr > th.active,
.dark .table > thead > tr.active > td,
.dark .table > tbody > tr.active > td,
.dark .table > thead > tr.active > th,
.dark .table > tbody > tr.active > th {
    background-color: var(--dark-bg-muted)
}

.dark .table-hover > tbody > tr > td.active:hover,
.dark .table-hover > tbody > tr > th.active:hover,
.dark .table-hover > tbody > tr.active:hover > td,
.dark .table-hover > tbody > tr:hover > .active,
.dark .table-hover > tbody > tr.active:hover > th {
    background-color: var(--dark-bg-emphasis)
}

/* Table status rows */

.dark .table > thead > tr > td.success,
.dark .table > tbody > tr > td.success,
.dark .table > thead > tr > th.success,
.dark .table > tbody > tr > th.success,
.dark .table > thead > tr.success > td,
.dark .table > tbody > tr.success > td,
.dark .table > thead > tr.success > th,
.dark .table > tbody > tr.success > th {
    background-color: var(--dark-success-bg)
}

.dark .table-hover > tbody > tr > td.success:hover,
.dark .table-hover > tbody > tr > th.success:hover,
.dark .table-hover > tbody > tr.success:hover > td,
.dark .table-hover > tbody > tr:hover > .success,
.dark .table-hover > tbody > tr.success:hover > th {
    background-color: var(--dark-success-emphasis)
}

.dark .table > thead > tr > td.info,
.dark .table > tbody > tr > td.info,
.dark .table > thead > tr > th.info,
.dark .table > tbody > tr > th.info,
.dark .table > thead > tr.info > td,
.dark .table > tbody > tr.info > td,
.dark .table > thead > tr.info > th,
.dark .table > tbody > tr.info > th {
    background-color: var(--dark-info-bg)
}

.dark .table-hover > tbody > tr > td.info:hover,
.dark .table-hover > tbody > tr > th.info:hover,
.dark .table-hover > tbody > tr.info:hover > td,
.dark .table-hover > tbody > tr:hover > .info,
.dark .table-hover > tbody > tr.info:hover > th {
    background-color: var(--dark-info-emphasis)
}

.dark .table > thead > tr > td.warning,
.dark .table > tbody > tr > td.warning,
.dark .table > thead > tr > th.warning,
.dark .table > tbody > tr > th.warning,
.dark .table > thead > tr.warning > td,
.dark .table > tbody > tr.warning > td,
.dark .table > thead > tr.warning > th,
.dark .table > tbody > tr.warning > th {
    background-color: var(--dark-warning-bg)
}

.dark .table-hover > tbody > tr > td.warning:hover,
.dark .table-hover > tbody > tr > th.warning:hover,
.dark .table-hover > tbody > tr.warning:hover > td,
.dark .table-hover > tbody > tr:hover > .warning,
.dark .table-hover > tbody > tr.warning:hover > th {
    background-color: var(--dark-warning-emphasis)
}

.dark .table > thead > tr > td.danger,
.dark .table > tbody > tr > td.danger,
.dark .table > thead > tr > th.danger,
.dark .table > tbody > tr > th.danger,
.dark .table > thead > tr.danger > td,
.dark .table > tbody > tr.danger > td,
.dark .table > thead > tr.danger > th,
.dark .table > tbody > tr.danger > th {
    background-color: var(--dark-danger-bg)
}

.dark .table-hover > tbody > tr > td.danger:hover,
.dark .table-hover > tbody > tr > th.danger:hover,
.dark .table-hover > tbody > tr.danger:hover > td,
.dark .table-hover > tbody > tr:hover > .danger,
.dark .table-hover > tbody > tr.danger:hover > th {
    background-color: var(--dark-danger-emphasis)
}

/* Bootgrid */

.dark .bootgrid-table th > .column-header-anchor {
    color: var(--dark-text-primary);
}

.dark .bootgrid-table th {
    background-color: var(--dark-bg-emphasis);
}

/* --------------------------------------------------------------------------
   Forms
   -------------------------------------------------------------------------- */

.dark legend {
    color: var(--dark-text-primary)
}

.dark output {
    color: var(--dark-text-primary)
}

.dark .form-control {
    color: var(--dark-input-text);
    background-color: var(--dark-input-bg);
    border-color: var(--dark-input-border);
}

.dark .select2-container {
    color: var(--dark-input-text);
    border-color: var(--dark-input-border);
}

.dark .select2-container--bootstrap .select2-selection--single .select2-selection__placeholder {
    color: var(--dark-text-muted);
}

.dark .form-control:focus {
    border-color: var(--dark-focus-border);
    box-shadow: 0 0 0 3px rgba(88, 166, 255, 0.3);
}

.dark .form-control::-moz-placeholder {
    color: var(--dark-text-muted)
}

.dark .form-control:-ms-input-placeholder {
    color: var(--dark-text-muted)
}

.dark .form-control::-webkit-input-placeholder {
    color: var(--dark-text-muted)
}

.dark .form-control::-ms-expand {
    background-color: transparent
}

.dark .form-control[disabled],
.dark .form-control[readonly],
.dark fieldset[disabled] .form-control {
    background-color: var(--dark-bg-subtle);
    color: var(--dark-text-muted)
}

/* Form validation — success */

.dark .has-success .help-block,
.dark .has-success .control-label,
.dark .has-success .radio,
.dark .has-success .checkbox,
.dark .has-success .radio-inline,
.dark .has-success.radio label,
.dark .has-success.checkbox label,
.dark .has-success.radio-inline label {
    color: var(--dark-success-fg)
}

.dark .has-success .form-control {
    border-color: var(--dark-success-fg)
}

.dark .has-success .form-control:focus {
    border-color: var(--dark-success-fg);
    box-shadow: 0 0 0 3px rgba(63, 185, 80, 0.3)
}

.dark .has-success .input-group-addon {
    color: var(--dark-success-fg);
    background-color: var(--dark-success-bg);
    border-color: var(--dark-success-fg)
}

.dark .has-success .form-control-feedback {
    color: var(--dark-success-fg)
}

/* Form validation — error */

.dark .has-error .help-block,
.dark .has-error .control-label,
.dark .has-error .radio,
.dark .has-error .checkbox,
.dark .has-error .radio-inline,
.dark .has-error.radio label,
.dark .has-error.checkbox label,
.dark .has-error.radio-inline label {
    color: var(--dark-danger-fg)
}

.dark .has-error .form-control {
    border-color: var(--dark-danger-fg)
}

.dark .has-error .form-control:focus {
    border-color: var(--dark-danger-fg);
    box-shadow: 0 0 0 3px rgba(248, 81, 73, 0.3)
}

.dark .has-error .input-group-addon {
    color: var(--dark-danger-fg);
    background-color: var(--dark-danger-bg);
    border-color: var(--dark-danger-fg)
}

.dark .has-error .form-control-feedback {
    color: var(--dark-danger-fg)
}

.dark .help-block {
    color: var(--dark-text-primary)
}

/* --------------------------------------------------------------------------
   Buttons
   -------------------------------------------------------------------------- */

.dark .btn {
    color: var(--dark-text-primary);
}

.dark .btn-default {
    background-color: var(--dark-bg-subtle);
    border-color: var(--dark-border-default)
}

.dark .btn-default:hover {
    background-color: var(--dark-bg-muted);
    border-color: var(--dark-bg-muted)
}

.dark .btn-default .badge {
    color: var(--dark-bg-subtle);
    background-color: var(--dark-text-primary)
}

.dark .btn-primary .badge {
    color: var(--dark-info-emphasis);
    background-color: var(--dark-text-primary)
}

.dark .btn-success .badge {
    color: var(--dark-success-emphasis);
    background-color: var(--dark-text-primary)
}

.dark .btn-info .badge {
    color: var(--dark-info-emphasis);
    background-color: var(--dark-text-primary)
}

.dark .btn-warning .badge {
    color: var(--dark-warning-emphasis);
    background-color: var(--dark-text-primary)
}

.dark .btn-danger .badge {
    color: var(--dark-danger-emphasis);
    background-color: var(--dark-text-primary)
}

/* --------------------------------------------------------------------------
   Dropdowns
   -------------------------------------------------------------------------- */

.dark .dropdown-menu {
    background-color: var(--dark-bg-overlay)
}

.dark .dropdown-menu .divider {
    background-color: var(--dark-border-default)
}

.dark .dropdown-menu > li > a {
    color: var(--dark-text-primary)
}

.dark .dropdown-menu > li > a:hover,
.dark .dropdown-menu > li > a:focus {
    color: var(--dark-text-primary);
    background-color: var(--dark-bg-subtle)
}

.dark .dropdown-menu > .active > a,
.dark .dropdown-menu > .active > a:hover,
.dark .dropdown-menu > .active > a:focus {
    color: var(--dark-text-primary);
    background-color: var(--dark-bg-subtle)
}

.dark .dropdown-menu > .disabled > a,
.dark .dropdown-menu > .disabled > a:hover,
.dark .dropdown-menu > .disabled > a:focus {
    color: var(--dark-text-muted)
}

.dark .dropdown-menu > .disabled > a:hover,
.dark .dropdown-menu > .disabled > a:focus {
    background-color: transparent
}

.dark .dropdown-header {
    color: var(--dark-text-secondary)
}

/* --------------------------------------------------------------------------
   Input group addon
   -------------------------------------------------------------------------- */

.dark .input-group-addon {
    color: var(--dark-text-secondary);
    background-color: var(--dark-bg-subtle);
    border-color: var(--dark-border-default);
}

/* --------------------------------------------------------------------------
   Navigation
   -------------------------------------------------------------------------- */

.dark .nav > li > a:hover,
.dark .nav > li > a:focus {
    background-color: var(--dark-bg-subtle)
}

.dark .nav > li.disabled > a {
    color: var(--dark-text-muted)
}

.dark .nav > li.disabled > a:hover,
.dark .nav > li.disabled > a:focus {
    color: var(--dark-text-muted);
    background-color: transparent
}

.dark .nav .open > a,
.dark .nav .open > a:hover,
.dark .nav .open > a:focus {
    background-color: var(--dark-bg-subtle);
    border-color: var(--dark-border-default)
}

.dark .nav-tabs {
    border-bottom-color: var(--dark-border-default);
}

.dark .with-nav-tabs.panel-default .nav-tabs > li > a {
    color: var(--dark-text-secondary);
}

.dark .nav-tabs > li > a:hover {
    border-color: var(--dark-border-default) var(--dark-border-default) var(--dark-border-default)
}

.dark .nav-tabs > li.active > a,
.dark .nav-tabs > li.active > a:hover,
.dark .nav-tabs > li.active > a:focus {
    color: var(--dark-text-primary);
    background-color: var(--dark-bg-muted);
    border-color: var(--dark-border-default);
    border-bottom-color: transparent;
}

@media (min-width: 768px) {
    .dark .nav-tabs.nav-justified > .active > a,
    .dark .nav-tabs.nav-justified > .active > a:hover,
    .dark .nav-tabs.nav-justified > .active > a:focus {
        border-bottom-color: var(--dark-bg-base)
    }
}

/* --------------------------------------------------------------------------
   Navbar
   -------------------------------------------------------------------------- */

.dark .navbar-toggle {
    background-color: transparent
}

@media (max-width: 767px) {
    .dark .navbar-nav .open .dropdown-menu {
        background-color: transparent
    }
}

.dark .navbar-default {
    background-color: var(--dark-bg-surface);
    border-color: var(--dark-border-default)
}

.dark .navbar-default .navbar-brand {
    color: var(--dark-text-primary)
}

.dark .navbar-default .navbar-brand:hover,
.dark .navbar-default .navbar-brand:focus {
    color: var(--dark-text-primary);
    background-color: transparent
}

.dark .navbar-default .navbar-nav > li > a {
    color: var(--dark-text-secondary)
}

.dark .navbar-default .navbar-nav > li > a:hover,
.dark .navbar-default .navbar-nav > li > a:focus {
    color: var(--dark-text-primary);
    background-color: var(--dark-bg-overlay)
}

.dark .navbar-default .navbar-nav > .active > a,
.dark .navbar-default .navbar-nav > .active > a:hover,
.dark .navbar-default .navbar-nav > .active > a:focus {
    color: var(--dark-text-primary);
    background-color: var(--dark-bg-overlay)
}

.dark .navbar-default .navbar-nav > .disabled > a,
.dark .navbar-default .navbar-nav > .disabled > a:hover,
.dark .navbar-default .navbar-nav > .disabled > a:focus {
    color: var(--dark-text-muted);
    background-color: transparent
}

.dark .navbar-default .navbar-nav > .open > a,
.dark .navbar-default .navbar-nav > .open > a:hover,
.dark .navbar-default .navbar-nav > .open > a:focus {
    color: var(--dark-text-primary);
    background-color: var(--dark-bg-overlay)
}

@media (max-width: 767px) {
    .dark .navbar-default .navbar-nav .open .dropdown-menu > li > a {
        color: var(--dark-text-primary)
    }

    .dark .navbar-default .navbar-nav .open .dropdown-menu > li > a:hover,
    .dark .navbar-default .navbar-nav .open .dropdown-menu > li > a:focus {
        color: var(--dark-text-primary);
        background-color: var(--dark-bg-overlay)
    }

    .dark .navbar-default .navbar-nav .open .dropdown-menu > .active > a,
    .dark .navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover,
    .dark .navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus {
        color: var(--dark-text-primary);
        background-color: var(--dark-bg-overlay)
    }

    .dark .navbar-default .navbar-nav .open .dropdown-menu > .disabled > a,
    .dark .navbar-default .navbar-nav .open .dropdown-menu > .disabled > a:hover,
    .dark .navbar-default .navbar-nav .open .dropdown-menu > .disabled > a:focus {
        color: var(--dark-text-muted);
        background-color: transparent
    }
}

.dark .navbar-default .navbar-toggle {
    border-color: var(--dark-bg-overlay)
}

.dark .navbar-default .navbar-toggle:hover,
.dark .navbar-default .navbar-toggle:focus {
    background-color: var(--dark-bg-overlay)
}

.dark .navbar-default .navbar-toggle .icon-bar {
    background-color: var(--dark-text-secondary)
}

.dark .navbar-default .navbar-collapse,
.dark .navbar-default .navbar-form {
    border-color: var(--dark-border-default)
}

/* --------------------------------------------------------------------------
   Pagination — FIX: disabled had white bg
   -------------------------------------------------------------------------- */

.dark .pagination > li > a,
.dark .pagination > li > span {
    color: var(--dark-text-primary);
    background-color: var(--dark-bg-subtle)
}

.dark .pagination > li > a:hover,
.dark .pagination > li > span:hover,
.dark .pagination > li > a:focus,
.dark .pagination > li > span:focus {
    color: var(--dark-text-primary);
    background-color: var(--dark-bg-muted);
    border-color: var(--dark-border-default)
}

.dark .pagination > .active > a,
.dark .pagination > .active > span,
.dark .pagination > .active > a:hover,
.dark .pagination > .active > span:hover,
.dark .pagination > .active > a:focus,
.dark .pagination > .active > span:focus {
    color: var(--dark-text-primary);
    background-color: var(--dark-bg-emphasis);
    border-color: var(--dark-border-default)
}

.dark .pagination > .disabled > span,
.dark .pagination > .disabled > span:hover,
.dark .pagination > .disabled > span:focus,
.dark .pagination > .disabled > a,
.dark .pagination > .disabled > a:hover,
.dark .pagination > .disabled > a:focus {
    color: var(--dark-text-muted);
    background-color: var(--dark-bg-subtle);
    border-color: var(--dark-border-default)
}

/* --------------------------------------------------------------------------
   Labels
   -------------------------------------------------------------------------- */

.dark .label {
    color: var(--dark-text-primary)
}

.dark a.label:hover,
.dark a.label:focus {
    color: var(--dark-text-primary)
}

.dark .label-default {
    background-color: var(--dark-bg-muted)
}

.dark .label-default[href]:hover,
.dark .label-default[href]:focus {
    background-color: var(--dark-bg-emphasis)
}

.dark .label-primary {
    background-color: var(--dark-info-emphasis)
}

.dark .label-primary[href]:hover,
.dark .label-primary[href]:focus {
    background-color: var(--dark-info-fg)
}

.dark .label-success {
    background-color: var(--dark-success-emphasis)
}

.dark .label-success[href]:hover,
.dark .label-success[href]:focus {
    background-color: var(--dark-success-fg)
}

.dark .label-info {
    background-color: var(--dark-info-emphasis)
}

.dark .label-info[href]:hover,
.dark .label-info[href]:focus {
    background-color: var(--dark-info-fg)
}

.dark .label-warning {
    background-color: var(--dark-warning-emphasis)
}

.dark .label-warning[href]:hover,
.dark .label-warning[href]:focus {
    background-color: var(--dark-warning-fg)
}

.dark .label-danger {
    background-color: var(--dark-danger-emphasis)
}

.dark .label-danger[href]:hover,
.dark .label-danger[href]:focus {
    background-color: var(--dark-danger-fg)
}

/* --------------------------------------------------------------------------
   Badges
   -------------------------------------------------------------------------- */

.dark .badge {
    color: var(--dark-text-primary);
    background-color: var(--dark-bg-muted)
}

.dark a.badge:hover,
.dark a.badge:focus {
    color: var(--dark-text-primary)
}

.dark .list-group-item.active > .badge {
    color: var(--dark-text-primary);
    background-color: var(--dark-bg-muted)
}

/* --------------------------------------------------------------------------
   Alerts — FIX: use subtle tinted backgrounds
   -------------------------------------------------------------------------- */

.dark .alert h4 {
    color: inherit
}

.dark .alert-success {
    color: var(--dark-success-fg);
    background-color: var(--dark-success-bg);
    border-color: var(--dark-success-emphasis)
}

.dark .alert-success hr {
    border-top-color: var(--dark-success-emphasis)
}

.dark .alert-info {
    color: var(--dark-info-fg);
    background-color: var(--dark-info-bg);
    border-color: var(--dark-info-emphasis)
}

.dark .alert-info hr {
    border-top-color: var(--dark-info-emphasis)
}

.dark .alert-warning {
    color: var(--dark-warning-fg);
    background-color: var(--dark-warning-bg);
    border-color: var(--dark-warning-emphasis)
}

.dark .alert-warning hr {
    border-top-color: var(--dark-warning-emphasis)
}

.dark .alert-danger {
    color: var(--dark-danger-fg);
    background-color: var(--dark-danger-bg);
    border-color: var(--dark-danger-emphasis)
}

.dark .alert-danger hr {
    border-top-color: var(--dark-danger-emphasis)
}

/* --------------------------------------------------------------------------
   List groups
   -------------------------------------------------------------------------- */

.dark .list-group-item {
    background-color: var(--dark-bg-surface)
}

.dark .list-group-item.disabled,
.dark .list-group-item.disabled:hover,
.dark .list-group-item.disabled:focus {
    color: var(--dark-text-muted);
    background-color: var(--dark-bg-subtle)
}

.dark .list-group-item.active,
.dark .list-group-item.active:hover,
.dark .list-group-item.active:focus {
    color: var(--dark-text-primary);
    background-color: var(--dark-bg-muted);
    border-color: var(--dark-border-default)
}

.dark a.list-group-item,
.dark button.list-group-item {
    color: var(--dark-text-primary)
}

.dark a.list-group-item:hover,
.dark button.list-group-item:hover,
.dark a.list-group-item:focus,
.dark button.list-group-item:focus {
    color: var(--dark-text-primary);
    background-color: var(--dark-bg-subtle)
}

.dark .list-group-item-danger {
    color: var(--dark-danger-fg);
    background-color: var(--dark-danger-bg)
}

.dark a.list-group-item-danger,
.dark button.list-group-item-danger {
    color: var(--dark-danger-fg)
}

.dark a.list-group-item-danger:hover,
.dark button.list-group-item-danger:hover,
.dark a.list-group-item-danger:focus,
.dark button.list-group-item-danger:focus {
    color: var(--dark-danger-fg);
    background-color: var(--dark-danger-emphasis)
}

.dark a.list-group-item-danger.active,
.dark button.list-group-item-danger.active,
.dark a.list-group-item-danger.active:hover,
.dark button.list-group-item-danger.active:hover,
.dark a.list-group-item-danger.active:focus,
.dark button.list-group-item-danger.active:focus {
    color: var(--dark-text-primary);
    background-color: var(--dark-danger-emphasis);
    border-color: var(--dark-danger-emphasis)
}

/* --------------------------------------------------------------------------
   Panels
   -------------------------------------------------------------------------- */

.dark .panel {
    background-color: var(--dark-bg-surface)
}

.dark .panel-heading > .dropdown .dropdown-toggle {
    color: inherit
}

.dark .panel-title {
    color: inherit
}

.dark .panel-title > a,
.dark .panel-title > small,
.dark .panel-title > .small,
.dark .panel-title > small > a,
.dark .panel-title > .small > a {
    color: inherit
}

.dark .panel-footer {
    background-color: var(--dark-bg-subtle);
    border-color: var(--dark-border-default);
}

.dark .panel-default {
    border-color: var(--dark-border-default)
}

.dark .panel-default > .panel-heading {
    color: var(--dark-text-primary);
    background-color: var(--dark-bg-subtle);
    border-color: var(--dark-border-default)
}

.dark .panel-default > .panel-heading + .panel-collapse > .panel-body {
    border-top-color: var(--dark-border-default)
}

.dark .panel-default > .panel-heading .badge {
    color: var(--dark-bg-subtle);
    background-color: var(--dark-text-secondary)
}

.dark .panel-default > .panel-footer + .panel-collapse > .panel-body {
    border-bottom-color: var(--dark-border-default)
}

.dark .panel-primary {
    border-color: var(--dark-border-default)
}

.dark .panel-primary > .panel-heading {
    color: var(--dark-text-primary);
    background-color: var(--dark-info-emphasis);
    border-color: var(--dark-border-default)
}

.dark .panel-primary > .panel-heading + .panel-collapse > .panel-body {
    border-top-color: var(--dark-border-default)
}

.dark .panel-primary > .panel-heading .badge {
    color: var(--dark-info-emphasis);
    background-color: var(--dark-text-primary)
}

.dark .panel-primary > .panel-footer + .panel-collapse > .panel-body {
    border-bottom-color: var(--dark-border-default)
}

.dark .panel-success {
    border-color: var(--dark-border-default)
}

.dark .panel-success > .panel-heading {
    color: var(--dark-text-primary);
    background-color: var(--dark-success-emphasis);
    border-color: var(--dark-border-default)
}

.dark .panel-success > .panel-heading + .panel-collapse > .panel-body {
    border-top-color: var(--dark-border-default)
}

.dark .panel-success > .panel-heading .badge {
    color: var(--dark-success-emphasis);
    background-color: var(--dark-text-primary)
}

.dark .panel-success > .panel-footer + .panel-collapse > .panel-body {
    border-bottom-color: var(--dark-border-default)
}

.dark .panel-info {
    border-color: var(--dark-border-default)
}

.dark .panel-info > .panel-heading {
    color: var(--dark-text-primary);
    background-color: var(--dark-info-emphasis);
    border-color: var(--dark-border-default)
}

.dark .panel-info > .panel-heading + .panel-collapse > .panel-body {
    border-top-color: var(--dark-border-default)
}

.dark .panel-info > .panel-heading .badge {
    color: var(--dark-info-emphasis);
    background-color: var(--dark-text-primary)
}

.dark .panel-info > .panel-footer + .panel-collapse > .panel-body {
    border-bottom-color: var(--dark-border-default)
}

.dark .panel-warning {
    border-color: var(--dark-border-default)
}

.dark .panel-warning > .panel-heading {
    color: var(--dark-text-primary);
    background-color: var(--dark-warning-emphasis);
    border-color: var(--dark-border-default)
}

.dark .panel-warning > .panel-heading + .panel-collapse > .panel-body {
    border-top-color: var(--dark-border-default)
}

.dark .panel-warning > .panel-heading .badge {
    color: var(--dark-warning-emphasis);
    background-color: var(--dark-text-primary)
}

.dark .panel-warning > .panel-footer + .panel-collapse > .panel-body {
    border-bottom-color: var(--dark-border-default)
}

.dark .panel-danger {
    border-color: var(--dark-border-default)
}

.dark .panel-danger > .panel-heading {
    color: var(--dark-text-primary);
    background-color: var(--dark-danger-emphasis);
    border-color: var(--dark-border-default)
}

.dark .panel-danger > .panel-heading + .panel-collapse > .panel-body {
    border-top-color: var(--dark-border-default)
}

.dark .panel-danger > .panel-heading .badge {
    color: var(--dark-danger-emphasis);
    background-color: var(--dark-text-primary)
}

.dark .panel-danger > .panel-footer + .panel-collapse > .panel-body {
    border-bottom-color: var(--dark-border-default)
}

/* --------------------------------------------------------------------------
   Wells
   -------------------------------------------------------------------------- */

.dark .well {
    background-color: var(--dark-bg-base)
}

.dark .well blockquote {
    border-color: var(--dark-border-muted)
}

/* --------------------------------------------------------------------------
   Close button — FIX: was #000 (invisible on dark)
   -------------------------------------------------------------------------- */

.dark .close {
    color: var(--dark-text-secondary)
}

.dark .close:hover,
.dark .close:focus {
    color: var(--dark-text-primary)
}

/* --------------------------------------------------------------------------
   Modal
   -------------------------------------------------------------------------- */

.dark .modal-content {
    background-color: var(--dark-bg-surface)
}

/* --------------------------------------------------------------------------
   Popover — FIX: arrows were missing .dark prefix
   -------------------------------------------------------------------------- */

.dark .popover {
    background-color: var(--dark-bg-surface);
}

.dark .popover.top > .arrow:after {
    border-top-color: var(--dark-bg-surface);
}

.dark .popover.right > .arrow:after {
    border-right-color: var(--dark-bg-surface);
}

.dark .popover.bottom > .arrow:after {
    border-bottom-color: var(--dark-bg-surface);
}

.dark .popover.left > .arrow:after {
    border-left-color: var(--dark-bg-surface);
}

/* --------------------------------------------------------------------------
   Table status text & bordered
   -------------------------------------------------------------------------- */

.dark .table .success,
.dark .table .warning,
.dark .table .danger,
.dark .table .info {
    color: var(--dark-text-primary)
}

.dark .table-bordered,
.dark .table-bordered tbody tr.success td,
.dark .table-bordered tbody tr.warning td,
.dark .table-bordered tbody tr.danger td,
.dark .table-bordered tbody tr.success:hover td,
.dark .table-bordered tbody tr.warning:hover td,
.dark .table-bordered tbody tr.danger:hover td {
    border-color: var(--dark-border-default)
}

.dark .table-bordered > thead > tr > th,
.dark .table-bordered > tbody > tr > th,
.dark .table-bordered > tfoot > tr > th,
.dark .table-bordered > thead > tr > td,
.dark .table-bordered > tbody > tr > td,
.dark .table-bordered > tfoot > tr > td {
    border-color: var(--dark-border-default);
}

.dark .table-responsive > .table {
    background-color: var(--dark-bg-surface)
}

/* --------------------------------------------------------------------------
   Form validation (repeated/override block)
   -------------------------------------------------------------------------- */

.dark .has-error .help-block,
.dark .has-error .control-label,
.dark .has-error .radio,
.dark .has-error .checkbox,
.dark .has-error .radio-inline,
.dark .has-error.radio label,
.dark .has-error.checkbox label,
.dark .has-error.radio-inline label,
.dark .has-error .form-control-feedback {
    color: var(--dark-danger-fg)
}

.dark .has-error .form-control,
.dark .has-error .form-control:focus {
    border-color: var(--dark-danger-fg)
}

.dark .has-error .input-group-addon {
    background-color: var(--dark-bg-subtle);
    border-color: var(--dark-border-default)
}

.dark .has-success .help-block,
.dark .has-success .control-label,
.dark .has-success .radio,
.dark .has-success .checkbox,
.dark .has-success .radio-inline,
.dark .has-success.radio label,
.dark .has-success.checkbox label,
.dark .has-success.radio-inline label,
.dark .has-success .form-control-feedback {
    color: var(--dark-success-fg)
}

.dark .has-success .form-control,
.dark .has-success .form-control:focus {
    border-color: var(--dark-success-fg)
}

.dark .has-success .input-group-addon {
    background-color: var(--dark-bg-subtle);
    border-color: var(--dark-border-default)
}

.dark legend {
    color: var(--dark-text-primary)
}

.dark .input-group-addon {
    background-color: var(--dark-bg-subtle);
    color: var(--dark-text-secondary);
    border-color: var(--dark-border-default);
}

/* --------------------------------------------------------------------------
   Pagination disabled (override)
   -------------------------------------------------------------------------- */

.dark .pagination > li.disabled > a,
.dark .pagination > li.disabled > a:hover,
.dark .pagination > li.disabled > span,
.dark .pagination > li.disabled > span:hover {
    background-color: var(--dark-bg-subtle)
}

/* --------------------------------------------------------------------------
   Alert links & close
   -------------------------------------------------------------------------- */

.dark .alert a {
    color: inherit;
    text-decoration: underline
}

.dark .alert .close {
    color: var(--dark-text-secondary)
}

.dark .alert .close:hover {
    color: var(--dark-text-primary)
}

/* --------------------------------------------------------------------------
   List group active (override)
   -------------------------------------------------------------------------- */

.dark a.list-group-item.active,
.dark a.list-group-item.active:hover,
.dark a.list-group-item.active:focus {
    border-color: var(--dark-border-default)
}

.dark a.list-group-item-danger.active {
    background-color: var(--dark-danger-emphasis)
}

.dark a.list-group-item-danger.active:hover,
.dark a.list-group-item-danger.active:focus {
    background-color: var(--dark-danger-fg)
}

/* --------------------------------------------------------------------------
   Panel heading borders (status panels)
   -------------------------------------------------------------------------- */

.dark .panel-primary .panel-heading,
.dark .panel-success .panel-heading,
.dark .panel-danger .panel-heading,
.dark .panel-warning .panel-heading,
.dark .panel-info .panel-heading {
    border-color: var(--dark-border-default)
}

/* --------------------------------------------------------------------------
   Device overview
   -------------------------------------------------------------------------- */

.dark .device-overview > .panel-body > .row:nth-child(odd) {
    background-color: var(--dark-bg-subtle)
}

.dark .device-overview > .panel-body > .row:hover {
    background-color: var(--dark-bg-muted)
}

/* --------------------------------------------------------------------------
   Misc page elements
   -------------------------------------------------------------------------- */

.dark a.list-device {
    color: var(--dark-text-secondary)
}

.dark .pagemenu-selected a {
    color: var(--dark-bg-subtle)
}

.dark .expandable:hover span {
    background-color: var(--dark-bg-surface)
}

.dark #overDiv {
    border: solid 1px var(--dark-border-default);
    background-color: var(--dark-bg-emphasis);
}

.dark .overlib {
    color: var(--dark-text-secondary)
}

.dark .overlib-contents {
    background-color: var(--dark-bg-surface);
}

.dark .overlib-text {
    color: var(--dark-text-secondary)
}

.dark .interface-upup,
.dark a.interface-upup {
    color: var(--dark-text-link)
}

.dark A.blue:visited,
.dark A.blue,
.dark .blue {
    color: var(--dark-text-link)
}

.dark A.grey:visited,
.dark A.grey,
.dark .grey {
    color: var(--dark-text-secondary)
}

.dark A.red:visited,
.dark A.red,
.dark .red {
    color: var(--dark-danger-fg)
}

/* FIX: gridster was referencing undefined var(--color-light2) */
.dark .gridster .gs-w {
    color: var(--dark-text-primary);
    background-color: var(--dark-bg-subtle);
}

.dark .bootgrid-table td.loading, .dark .bootgrid-table td.no-results {
    background-color: var(--dark-bg-emphasis);
}

.dark tr.bgp:nth-child(even) {
    background: var(--dark-bg-subtle);
}

.dark tr.iftype:nth-child(even) {
    background: var(--dark-bg-subtle);
}

.dark div[role=listbox] {
    background-color: var(--dark-bg-overlay);
}

/* --------------------------------------------------------------------------
   Select2 dark mode enhancements
   -------------------------------------------------------------------------- */

.dark .select2-container--bootstrap .select2-selection {
    background-color: var(--dark-input-bg);
    border-color: var(--dark-input-border);
    color: var(--dark-input-text);
}

.dark .select2-container--bootstrap .select2-selection:focus,
.dark .select2-container--bootstrap.select2-container--focus .select2-selection,
.dark .select2-container--bootstrap.select2-container--open .select2-selection {
    border-color: var(--dark-focus-border);
    box-shadow: 0 0 0 3px rgba(88, 166, 255, 0.3);
}

.dark .select2-container--bootstrap .select2-dropdown {
    background-color: var(--dark-bg-overlay);
    border-color: var(--dark-border-default);
}

.dark .select2-container--bootstrap .select2-results__option--highlighted {
    background-color: var(--dark-bg-subtle);
    color: var(--dark-text-primary);
}

.dark .select2-container--bootstrap .select2-results__option--selected {
    background-color: var(--dark-bg-muted);
    color: var(--dark-text-primary);
}

.dark .select2-container--bootstrap .select2-search--dropdown .select2-search__field {
    background-color: var(--dark-input-bg);
    border-color: var(--dark-input-border);
    color: var(--dark-input-text);
}

/* --------------------------------------------------------------------------
   Scrollbar styling for dark mode
   -------------------------------------------------------------------------- */

.dark ::-webkit-scrollbar {
    width: 12px;
    height: 12px;
}

.dark ::-webkit-scrollbar-track {
    background: var(--dark-bg-base);
}

.dark ::-webkit-scrollbar-thumb {
    background-color: var(--dark-bg-muted);
    border: 3px solid var(--dark-bg-base);
    border-radius: 6px;
}

.dark ::-webkit-scrollbar-thumb:hover {
    background-color: var(--dark-bg-emphasis);
}
