modules:
    os:
        sysDescr_regex: '/(?:TrueNAS-|FreeNAS-)(?<version>\S*).*\. Hardware: (?<hardware>.*).*\. Software.*/'
    storage:
        data:
            -
                oid: FREENAS-MIB::zpoolTable
                poller_type: freenas-zpool
                type: zpool
                descr: FREENAS-MIB::zpoolDescr
                units: FREENAS-MIB::zpoolAllocationUnits
                size: FREENAS-MIB::zpoolSize
                used: FREENAS-MIB::zpoolUsed
                used_num_oid: '.1.3.6.1.4.1.50536.1.1.1.1.5.{{ $index }}'
            -
                oid: FREENAS-MIB::datasetTable
                poller_type: freenas-dataset
                type: dataset
                descr: FREENAS-MIB::datasetDescr
                units: FREENAS-MIB::datasetAllocationUnits
                size: FREENAS-MIB::datasetSize
                free: FREENAS-MIB::datasetAvailable
                free_num_oid: '.1.3.6.1.4.1.50536.1.2.1.1.6.{{ $index }}'
    sensors:
        count:
            data:
                -
                    oid: FREENAS-MIB::zfsArcSize
                    value: FREENAS-MIB::zfsArcSize
                    num_oid: .1.3.6.1.4.1.50536.1.4.1.{{ $index }}
                    descr: 'ARC Size'
                    index: zfsArcSize.{{ $index }}
                -
                    oid: FREENAS-MIB::zfsArcMeta
                    value: FREENAS-MIB::zfsArcMeta
                    num_oid: .1.3.6.1.4.1.50536.1.4.2.{{ $index }}
                    descr: 'ARC Metadata'
                    index: zfsArcMeta.{{ $index }}
                -
                    oid: FREENAS-MIB::zfsArcData
                    value: FREENAS-MIB::zfsArcData
                    num_oid: .1.3.6.1.4.1.50536.1.4.3.{{ $index }}
                    descr: 'ARC Data'
                    index: zfsArcData.{{ $index }}
                -
                    oid: FREENAS-MIB::zfsArcHits
                    value: FREENAS-MIB::zfsArcHits
                    num_oid: .1.3.6.1.4.1.50536.1.4.4.{{ $index }}
                    descr: 'ARC Hits'
                    index: zfsArcHits_rate.{{ $index }}
                    rrd_type: COUNTER
                -
                    oid: FREENAS-MIB::zfsArcMisses
                    value: FREENAS-MIB::zfsArcMisses
                    num_oid: .1.3.6.1.4.1.50536.1.4.5.{{ $index }}
                    descr: 'ARC Misses'
                    index: zfsArcMisses_rate.{{ $index }}
                    rrd_type: COUNTER
                -
                    oid: FREENAS-MIB::zfsArcC
                    value: FREENAS-MIB::zfsArcC
                    num_oid: .1.3.6.1.4.1.50536.1.4.6.{{ $index }}
                    descr: 'ARC Target Size (C)'
                    index: zfsArcC.{{ $index }}
                -
                    oid: FREENAS-MIB::zfsArcP
                    value: FREENAS-MIB::zfsArcP
                    num_oid: .1.3.6.1.4.1.50536.1.4.7.{{ $index }}
                    descr: 'ARC MRU Target Size (P)'
                    index: zfsArcP.{{ $index }}
                -
                    oid: FREENAS-MIB::zfsArcMissPercent
                    value: FREENAS-MIB::zfsArcMissPercent
                    num_oid: .1.3.6.1.4.1.50536.1.4.8.{{ $index }}
                    descr: 'ARC Miss Percent'
                    index: zfsArcMissPercent.{{ $index }}
                -
                    oid: FREENAS-MIB::zfsArcCacheHitRatio
                    value: FREENAS-MIB::zfsArcCacheHitRatio
                    num_oid: .1.3.6.1.4.1.50536.1.4.9.{{ $index }}
                    descr: 'ARC Hit Ratio'
                    index: zfsArcCacheHitRatio.{{ $index }}
                -
                    oid: FREENAS-MIB::zfsArcMissRatio
                    value: FREENAS-MIB::zfsArcMissRatio
                    num_oid: .1.3.6.1.4.1.50536.1.4.10.{{ $index }}
                    descr: 'ARC Miss Ratio'
                    index: zfsArcMissRatio.{{ $index }}
                -
                    oid: FREENAS-MIB::zfsL2ArcHits
                    value: FREENAS-MIB::zfsL2ArcHits
                    num_oid: .1.3.6.1.4.1.50536.1.5.1.{{ $index }}
                    descr: 'L2ARC Hits'
                    index: zfsL2ArcHits_rate.{{ $index }}
                    rrd_type: COUNTER
                -
                    oid: FREENAS-MIB::zfsL2ArcMisses
                    value: FREENAS-MIB::zfsL2ArcMisses
                    num_oid: .1.3.6.1.4.1.50536.1.5.2.{{ $index }}
                    descr: 'L2ARC Misses'
                    index: zfsL2ArcMisses_rate.{{ $index }}
                    rrd_type: COUNTER
                -
                    oid: FREENAS-MIB::zfsL2ArcRead
                    value: FREENAS-MIB::zfsL2ArcRead
                    num_oid: .1.3.6.1.4.1.50536.1.5.3.{{ $index }}
                    descr: 'L2ARC Reads'
                    index: zfsL2ArcRead_rate.{{ $index }}
                    rrd_type: COUNTER
                -
                    oid: FREENAS-MIB::zfsL2ArcWrite
                    value: FREENAS-MIB::zfsL2ArcWrite
                    num_oid: .1.3.6.1.4.1.50536.1.5.4.{{ $index }}
                    descr: 'L2ARC Writes'
                    index: zfsL2ArcWrite_rate.{{ $index }}
                    rrd_type: COUNTER
                -
                    oid: FREENAS-MIB::zfsL2ArcSize
                    value: FREENAS-MIB::zfsL2ArcSize
                    num_oid: .1.3.6.1.4.1.50536.1.5.5.{{ $index }}
                    descr: 'L2ARC Size'
                    index: zfsL2ArcSize.{{ $index }}
                -
                    oid: FREENAS-MIB::zfsZilstatOps1sec
                    value: FREENAS-MIB::zfsZilstatOps1sec
                    num_oid: .1.3.6.1.4.1.50536.1.6.1.{{ $index }}
                    descr: 'ZIL Operations last second'
                    index: zfsZilstatOps1sec.{{ $index }}
                -
                    oid: FREENAS-MIB::zfsZilstatOps5sec
                    value: FREENAS-MIB::zfsZilstatOps5sec
                    num_oid: .1.3.6.1.4.1.50536.1.6.2.{{ $index }}
                    descr: 'ZIL Operations last 5 seconds'
                    index: zfsZilstatOps5sec.{{ $index }}
                -
                    oid: FREENAS-MIB::zfsZilstatOps10sec
                    value: FREENAS-MIB::zfsZilstatOps10sec
                    num_oid: .1.3.6.1.4.1.50536.1.6.3.{{ $index }}
                    descr: 'ZIL Operations last 10 seconds'
                    index: zfsZilstatOps10sec.{{ $index }}
        state:
            data:
                -
                    oid: FREENAS-MIB::zpoolTable
                    value: FREENAS-MIB::zpoolHealth
                    num_oid: .1.3.6.1.4.1.50536.1.1.1.1.7.{{ $index }}
                    descr: 'ZPool: {{ FREENAS-MIB::zpoolDescr }}'
                    index: zpoolHealth.{{ $index }}
                    state_name: zpoolTable
                    states:
                        - { value: 0, descr: online, graph: 1, generic: 0 }
                        - { value: 1, descr: degraded, graph: 1, generic: 1 }
                        - { value: 2, descr: faulted, graph: 1, generic: 2 }
                        - { value: 3, descr: offline, graph: 1, generic: 2 }
                        - { value: 4, descr: unavail, graph: 1, generic: 2 }
                        - { value: 5, descr: removed, graph: 1, generic: 2 }
