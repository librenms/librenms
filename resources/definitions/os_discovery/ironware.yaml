modules:
    mempools:
        additional_oids:
            oids:
                - FOUNDRY-SN-AGENT-MIB::snAgentBrdMainBrdDescription
        data:
#            -
#                total: FOUNDRY-SN-AGENT-MIB::snAgGblDynMemTotal
#                free: FOUNDRY-SN-AGENT-MIB::snAgGblDynMemFree
#                type: ironware-dyn
#                descr: 'Dynamic Memory'
            -
                total: FOUNDRY-SN-AGENT-MIB::snAgSystemDRAMTotal
                free: FOUNDRY-SN-AGENT-MIB::snAgSystemDRAMFree
                descr: 'System Memory'
                type: ironware-system
            -
                total: FOUNDRY-SN-AGENT-MIB::snAgentBrdMemoryTotal
                free: FOUNDRY-SN-AGENT-MIB::snAgentBrdMemoryAvailable
                type: ironware-dyn
                descr: '{{ FOUNDRY-SN-AGENT-MIB::snAgentBrdMainBrdDescription }}'
    os:
        hardware_mib: FOUNDRY-SN-ROOT-MIB
        sysDescr_regex: '/IronWare Version V(?<version>.*) Compiled on/'
        serial: FOUNDRY-SN-AGENT-MIB::snChasSerNum.0
        version: FOUNDRY-SN-AGENT-MIB::snAgImgVer.0
#        version: FOUNDRY-SN-AGENT-MIB::snAgBuildVer.0
    sensors:
        additional_oids:
            data:
                -
                    oid:
                        - IF-MIB::ifDescr
                        - FOUNDRY-SN-AGENT-MIB::snAgentTemp2SensorDescr
        dbm:
            data:
                -
                    oid: FOUNDRY-SN-SWITCH-GROUP-MIB::snIfOpticalMonitoringInfoTable
                    value: FOUNDRY-SN-SWITCH-GROUP-MIB::snIfOpticalMonitoringRxPower
                    num_oid: '.1.3.6.1.4.1.1991.1.1.3.3.6.1.3.{{ $index }}'
                    descr: '{{ IF-MIB::ifDescr }} Rx Power'
                    index: 'snIfOpticalMonitoringRxPower.{{ $index }}'
                -
                    oid: FOUNDRY-SN-SWITCH-GROUP-MIB::snIfOpticalMonitoringInfoTable
                    value: FOUNDRY-SN-SWITCH-GROUP-MIB::snIfOpticalMonitoringTxPower
                    num_oid: '.1.3.6.1.4.1.1991.1.1.3.3.6.1.2.{{ $index }}'
                    descr: '{{ IF-MIB::ifDescr }} Tx Power'
                    index: 'snIfOpticalMonitoringTxPower.{{ $index }}'
        count:
            data:
                -
                    oid: FOUNDRY-POE-MIB::snAgentPoeGblPowerAllocationsRequestsHonored
                    value: FOUNDRY-POE-MIB::snAgentPoeGblPowerAllocationsRequestsHonored
                    num_oid: '.1.3.6.1.4.1.1991.1.1.2.14.1.3.{{ $index }}'
                    index: 'snAgentPoeGblPowerAllocationsRequestsHonored.{{ $index }}'
                    descr: 'Allocations Requests Honored'
                -
                    oid: FOUNDRY-POE-MIB::snAgentPoeUnitTable
                    value: FOUNDRY-POE-MIB::snAgentPoeUnitPowerAllocationsRequestsHonored
                    num_oid: '.1.3.6.1.4.1.1991.1.1.2.14.4.1.1.4.{{ $index }}'
                    index: 'snAgentPoeUnitPowerAllocationsRequestsHonored.{{ $index }}'
                    group: 'Unit PoE'
                    descr: 'Unit {{ $index }} Allocations Requests Honored'
        current:
            options:
                divisor: 1000
            data:
                -
                    oid: FOUNDRY-SN-SWITCH-GROUP-MIB::snIfOpticalMonitoringInfoTable
                    value: FOUNDRY-SN-SWITCH-GROUP-MIB::snIfOpticalMonitoringTxBiasCurrent
                    num_oid: '.1.3.6.1.4.1.1991.1.1.3.3.6.1.4.{{ $index }}'
                    descr: '{{ IF-MIB::ifDescr }} Tx Bias Current'
                    index: 'snIfOpticalMonitoringTxBiasCurrent.{{ $index }}'
        power:
            data:
                -
                    oid: FOUNDRY-POE-MIB::snAgentPoeGblPowerCapacityTotal
                    value: FOUNDRY-POE-MIB::snAgentPoeGblPowerCapacityTotal
                    num_oid: '.1.3.6.1.4.1.1991.1.1.2.14.1.1.{{ $index }}'
                    index: 'snAgentPoeGblPowerCapacityTotal.{{ $index }}'
                    group: 'Device PoE'
                    divisor: 1000
                    descr: 'Total Power Capacity'
                -
                    oid: FOUNDRY-POE-MIB::snAgentPoeGblPowerCapacityFree
                    value: FOUNDRY-POE-MIB::snAgentPoeGblPowerCapacityFree
                    num_oid: '.1.3.6.1.4.1.1991.1.1.2.14.1.2.{{ $index }}'
                    index: 'snAgentPoeGblPowerCapacityFree.{{ $index }}'
                    group: 'Device PoE'
                    divisor: 1000
                    descr: 'Free Power Capacity'
                -
                    oid: FOUNDRY-POE-MIB::snAgentPoePortTable
                    value: FOUNDRY-POE-MIB::snAgentPoePortConsumed
                    num_oid: '.1.3.6.1.4.1.1991.1.1.2.14.2.2.1.6.{{ $index }}'
                    index: 'snAgentPoePortConsumed.{{ $index }}'
                    group: 'Port PoE'
                    divisor: 1000
                    descr: 'Port {{ IF-MIB::ifDescr }} Consumed Power'
                -
                    oid: FOUNDRY-POE-MIB::snAgentPoeUnitTable
                    value: FOUNDRY-POE-MIB::snAgentPoeUnitPowerCapacityTotal
                    num_oid: '.1.3.6.1.4.1.1991.1.1.2.14.4.1.1.2.{{ $index }}'
                    index: 'snAgentPoeUnitPowerCapacityTotal.{{ $index }}'
                    group: 'Unit PoE'
                    divisor: 1000
                    descr: 'Unit {{ $index }} Total Power'
                -
                    oid: FOUNDRY-POE-MIB::snAgentPoeUnitTable
                    value: FOUNDRY-POE-MIB::snAgentPoeUnitPowerCapacityFree
                    num_oid: '.1.3.6.1.4.1.1991.1.1.2.14.4.1.1.3.{{ $index }}'
                    index: 'snAgentPoeUnitPowerCapacityFree.{{ $index }}'
                    group: 'Unit PoE'
                    divisor: 1000
                    descr: 'Unit {{ $index }} Free Power'
        temperature:
            data:
                -
                    oid: FOUNDRY-SN-AGENT-MIB::snAgentTempTable
                    value: FOUNDRY-SN-AGENT-MIB::snAgentTempValue
                    divisor: 2
                    num_oid: '.1.3.6.1.4.1.1991.1.1.2.13.1.1.4.{{ $index }}'
                    descr: FOUNDRY-SN-AGENT-MIB::snAgentTempSensorDescr
                    index: '{{ $index }}'
                    group: 'Module Temperatures'
                    skip_values:
                        -
                            oid: FOUNDRY-SN-AGENT-MIB::snAgentTemp2SensorDescr.1.1.1
                            op: 'exists'
                            value: true
                -
                    oid: FOUNDRY-SN-AGENT-MIB::snAgentTemp2Table
                    value: FOUNDRY-SN-AGENT-MIB::snAgentTemp2Value
                    divisor: 2
                    num_oid: '.1.3.6.1.4.1.1991.1.1.2.13.3.1.5.{{ $index }}'
                    descr: '{{ $subindex0 }}/{{ $subindex1 }} {{ FOUNDRY-SN-AGENT-MIB::snAgentTemp2SensorDescr }}'
                    index: '{{ $index }}'
                    group: 'Module Temperatures'
                -
                    oid: FOUNDRY-SN-SWITCH-GROUP-MIB::snIfOpticalMonitoringInfoTable
                    value: FOUNDRY-SN-SWITCH-GROUP-MIB::snIfOpticalMonitoringTemperature
                    num_oid: '.1.3.6.1.4.1.1991.1.1.3.3.6.1.1.{{ $index }}'
                    descr: '{{ IF-MIB::ifDescr }} Tx Laser'
                    index: 'snIfOpticalMonitoringTemperature.{{ $index }}'
                    group: 'Transceiver Temperatures'
        state:
            data:
                -
                    oid: FOUNDRY-SN-AGENT-MIB::snChasPwrSupplyTable
                    value: FOUNDRY-SN-AGENT-MIB::snChasPwrSupplyOperStatus
                    num_oid: '.1.3.6.1.4.1.1991.1.1.1.2.1.1.3.{{ $index }}'
                    descr: 'Power Supply {{ $index }}'
                    index: '{{ $index }}'
                    skip_values: 1
                    group: Power Supply Status
                    state_name: snChasPwrSupplyOperStatus
                    states:
                        - { value: 1, descr: other, graph: 0, generic: 3 }
                        - { value: 2, descr: normal, graph: 1, generic: 0 }
                        - { value: 3, descr: failure, graph: 0, generic: 2 }
                -
                    oid: FOUNDRY-SN-AGENT-MIB::snChasFanTable
                    value: FOUNDRY-SN-AGENT-MIB::snChasFanOperStatus
                    num_oid: '.1.3.6.1.4.1.1991.1.1.1.3.1.1.3.{{ $index }}'
                    descr: '{{ FOUNDRY-SN-AGENT-MIB::snChasFanDescription }}'
                    index: 'snChasFanOperStatus.{{ $index }}'
                    group: Fan Status
                    state_name: snChasFanOperStatus
                    states:
                        - { value: 1, descr: other, graph: 0, generic: 3 }
                        - { value: 2, descr: normal, graph: 1, generic: 0 }
                        - { value: 3, descr: failure, graph: 0, generic: 2 }
                -
                    oid: FOUNDRY-SN-STACKING-MIB::snStackingGlobalConfigState
                    num_oid: '.1.3.6.1.4.1.1991.1.1.3.31.1.1.{{ $index }}'
                    descr: 'Global Stack Config State'
                    index: 'snStackingGlobalConfigState.{{ $index }}'
                    group: Stacking Status
                    state_name: snStackingGlobalConfigState
                    states:
                        - { value: 0, descr: none, graph: 0, generic: 3 }
                        - { value: 1, descr: enabled, graph: 1, generic: 0 }
                        - { value: 2, descr: disabled, graph: 0, generic: 0 }
                -
                    oid: FOUNDRY-SN-STACKING-MIB::snStackingOperUnitTable
                    value: FOUNDRY-SN-STACKING-MIB::snStackingOperUnitState
                    num_oid: '.1.3.6.1.4.1.1991.1.1.3.31.2.2.1.5.{{ $index }}'
                    descr: 'Unit {{ $index }} Stack State'
                    index: 'snStackingOperUnitState.{{ $index }}'
                    skip_values:
                        -
                            oid: FOUNDRY-SN-STACKING-MIB::snStackingGlobalConfigState.0
                            op: '!='
                            value: 1
                    group: Stacking Status
                    state_name: snStackingOperUnitState
                    states:
                        - { value: 1, descr: local, graph: 0, generic: 0 }
                        - { value: 2, descr: remote, graph: 1, generic: 0 }
                        - { value: 3, descr: reserved, graph: 0, generic: 2 }
                        - { value: 4, descr: empty, graph: 0, generic: 2 }
                -
                    oid: FOUNDRY-SN-STACKING-MIB::snStackingOperUnitTable
                    value: FOUNDRY-SN-STACKING-MIB::snStackingOperUnitStackPort1State
                    num_oid: '.1.3.6.1.4.1.1991.1.1.3.31.2.2.1.8.{{ $index }}'
                    descr: 'Unit {{ $index }} Stack-port 1 to Unit {{ FOUNDRY-SN-STACKING-MIB::snStackingOperUnitNeighbor1 }}'
                    index: 'snStackingOperUnitStackPort1State.{{ $index }}'
                    skip_values:
                        -
                            oid: FOUNDRY-SN-STACKING-MIB::snStackingGlobalConfigState.0
                            op: '!='
                            value: 1
                        -
                            oid: FOUNDRY-SN-STACKING-MIB::snStackingOperUnitStackPort1
                            op: '='
                            value: 0
                    group: Stacking Status
                    state_name: snStackingOperUnitStackPortState
                    states:
                        - { value: 1, descr: other, graph: 0, generic: 3 }
                        - { value: 2, descr: up, graph: 1, generic: 0 }
                        - { value: 3, descr: down, graph: 0, generic: 2 }
                -
                    oid: FOUNDRY-SN-STACKING-MIB::snStackingOperUnitTable
                    value: FOUNDRY-SN-STACKING-MIB::snStackingOperUnitStackPort2State
                    num_oid: '.1.3.6.1.4.1.1991.1.1.3.31.2.2.1.10.{{ $index }}'
                    descr: 'Unit {{ $index }} Stack-port 2 to Unit {{ FOUNDRY-SN-STACKING-MIB::snStackingOperUnitNeighbor2 }}'
                    index: 'snStackingOperUnitStackPort2State.{{ $index }}'
                    skip_values:
                        -
                            oid: FOUNDRY-SN-STACKING-MIB::snStackingGlobalConfigState.0
                            op: '!='
                            value: 1
                        -
                            oid: FOUNDRY-SN-STACKING-MIB::snStackingOperUnitStackPort2
                            op: '='
                            value: 0
                    group: Stacking Status
                    state_name: snStackingOperUnitStackPortState
                    states:
                        - { value: 1, descr: other, graph: 0, generic: 3 }
                        - { value: 2, descr: up, graph: 1, generic: 0 }
                        - { value: 3, descr: down, graph: 0, generic: 2 }
