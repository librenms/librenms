modules:
    mempools:
        data:
            -
                total: ALCATEL-IND1-SYSTEM-MIB::systemHardwareMemorySize
                percent_used: ALCATEL-IND1-HEALTH-MIB::healthModuleMemory1MinAvg
                precision: 1024
                descr: 'Device Memory'
                skip_values:
                    -
                        oid: ALCATEL-IND1-SYSTEM-MIB::systemHardwareMemorySize
                        op: '<='
                        value: 0
    os:
        sysDescr_regex: '/(?<hardware>OS\S+)? ?(?<version>\d+\.\d+\.\S+)/'
    processors:
        data:
            -
                oid: ALCATEL-IND1-HEALTH-MIB::healthModuleCpu1MinAvg
                num_oid: '.1.3.6.1.4.1.6486.801.1.2.1.16.1.1.1.1.1.11.{{ $index }}'
                index: 0
                # force to CMM oid
                skip_values:
                    - {'oid': 'index', 'op': '!=', 'value': '0'}
    sensors:
        additional_oids:
            data:
                -
                    oid:
                        - IF-MIB::ifName
                        - ENTITY-MIB::entPhysicalName
                        - ALCATEL-IND1-LAG-MIB::alclnkaggAggNumber
        current:
            data:
                -
                    oid: ALCATEL-IND1-PORT-MIB::ddmPortInfoTable
                    value: ALCATEL-IND1-PORT-MIB::ddmPortTxBiasCurrent
                    num_oid: '.1.3.6.1.4.1.6486.801.1.2.1.5.1.1.2.6.1.12.{{ $index }}'
                    descr: '{{ IF-MIB::ifName:0 }} TX Bias'
                    divisor: 1000
                    low_limit: ALCATEL-IND1-PORT-MIB::ddmPortTxBiasCurrentLowAlarm
                    low_warn_limit: ALCATEL-IND1-PORT-MIB::ddmPortTxBiasCurrentLowWarning
                    high_limit: ALCATEL-IND1-PORT-MIB::ddmPortTxBiasCurrentHiAlarm
                    warn_limit: ALCATEL-IND1-PORT-MIB::ddmPortTxBiasCurrentHiWarning
                    entPhysicalIndex_measured: ports
                    entPhysicalIndex: '{{ $subindex0 }}'
                    skip_values: 0
        dbm:
            data:
                -
                    oid: ALCATEL-IND1-PORT-MIB::ddmPortInfoTable
                    value: ALCATEL-IND1-PORT-MIB::ddmPortRxOpticalPower
                    num_oid: '.1.3.6.1.4.1.6486.801.1.2.1.5.1.1.2.6.1.22.{{ $index }}'
                    descr: '{{ IF-MIB::ifName:0 }} RX Power'
                    divisor: 1000
                    index: 'rx-{{ $index }}'
                    low_limit: ALCATEL-IND1-PORT-MIB::ddmPortRxOpticalPowerLowAlarm
                    low_warn_limit: ALCATEL-IND1-PORT-MIB::ddmPortRxOpticalPowerLowWarning
                    high_limit: ALCATEL-IND1-PORT-MIB::ddmPortRxOpticalPowerHiAlarm
                    warn_limit: ALCATEL-IND1-PORT-MIB::ddmPortRxOpticalPowerHiWarning
                    entPhysicalIndex_measured: ports
                    entPhysicalIndex: '{{ $subindex0 }}'
                    skip_values:
                        -
                            oid: ALCATEL-IND1-PORT-MIB::ddmPortRxOpticalPower
                            op: '='
                            value: -2147483648
                        -
                            oid: ALCATEL-IND1-PORT-MIB::ddmPortTxOutputPower
                            op: '='
                            value: 0

                -
                    oid: ALCATEL-IND1-PORT-MIB::ddmPortInfoTable
                    value: ALCATEL-IND1-PORT-MIB::ddmPortTxOutputPower
                    num_oid: '.1.3.6.1.4.1.6486.801.1.2.1.5.1.1.2.6.1.17.{{ $index }}'
                    descr: '{{ IF-MIB::ifName:0 }} TX Power'
                    divisor: 1000
                    index: 'tx-{{ $index }}'
                    low_limit: ALCATEL-IND1-PORT-MIB::ddmPortTxOutputPowerLowAlarm
                    low_warn_limit: ALCATEL-IND1-PORT-MIB::ddmPortTxOutputPowerLowWarning
                    high_limit: ALCATEL-IND1-PORT-MIB::ddmPortTxOutputPowerHiAlarm
                    warn_limit: ALCATEL-IND1-PORT-MIB::ddmPortTxOutputPowerHiWarning
                    entPhysicalIndex_measured: ports
                    entPhysicalIndex: '{{ $subindex0 }}'
                    skip_values:
                        -
                            oid: ALCATEL-IND1-PORT-MIB::ddmPortRxOpticalPower
                            op: '='
                            value: 0
                        -
                            oid: ALCATEL-IND1-PORT-MIB::ddmPortTxOutputPower
                            op: '='
                            value: 0
        fanspeed:
            data:
                -
                    oid: ALCATEL-IND1-CHASSIS-MIB::alaChasEntPhysFanTable
                    value: ALCATEL-IND1-CHASSIS-MIB::alaChasEntPhysFanSpeed
                    num_oid: '.1.3.6.1.4.1.6486.801.1.1.1.3.1.1.11.1.4.{{ $index }}'
                    descr: 'CHASSIS-{{ ENTITY-MIB::entPhysicalName:0 }} Fan {{ $subindex1 }}'
                    low_limit: 1000
                    high_limit: 18000
                    skip_values:
                        -
                            oid: ALCATEL-IND1-CHASSIS-MIB::alaChasEntPhysFanAirflow
                            op: '='
                            value: 2
        state:
            data:
                -
                    oid: ALCATEL-IND1-CHASSIS-MIB::chasControlModuleTable
                    value: ALCATEL-IND1-CHASSIS-MIB::chasControlCertifyStatus
                    num_oid: '.1.3.6.1.4.1.6486.801.1.1.1.3.1.1.1.1.4.{{ $index }}'
                    descr: 'Certify/Restore Status'
                    group: Chassis
                    index: 'chasControlCertifyStatus.1'
                    state_name: chasControlCertifyStatus
                    states:
                        - { value: 1, generic: 2, graph: 1, descr: Unknown }
                        - { value: 2, generic: 1, graph: 1, descr: Need Certify }
                        - { value: 3, generic: 0, graph: 1, descr: Certified }
                    snmp_bulk: false
                -
                    oid: ALCATEL-IND1-CHASSIS-MIB::chasControlModuleTable
                    value: ALCATEL-IND1-CHASSIS-MIB::chasControlSynchronizationStatus
                    num_oid: '.1.3.6.1.4.1.6486.801.1.1.1.3.1.1.1.1.6.{{ $index }}'
                    descr: 'Flash Between CMMs'
                    group: Chassis
                    index: 'chasControlSynchronizationStatus.1'
                    state_name: chasControlSynchronizationStatus
                    states:
                        - { value: 1, generic: 2, graph: 1, descr: Unknown }
                        - { value: 2, generic: 1, graph: 1, descr: Mono Control Module }
                        - { value: 3, generic: 1, graph: 1, descr: Not Synchronized }
                        - { value: 4, generic: 0, graph: 1, descr: Synchronized }
                    snmp_bulk: false
                -
                    oid: ALCATEL-IND1-LAG-MIB::alclnkaggAggNbrAttachedPorts
                    value: ALCATEL-IND1-LAG-MIB::alclnkaggAggNbrAttachedPorts
                    num_oid: '.1.3.6.1.4.1.6486.801.1.2.1.13.1.1.1.1.1.19.{{ $index }}'
                    descr: 'LACP Number {{ ALCATEL-IND1-LAG-MIB::alclnkaggAggNumber }}'
                    index: 'alclnkaggAggNbrAttachedPorts.{{ $index }}'
                    group: LACP
                    state_name: alclnkaggAggNbrAttachedPorts
                    states:
                        - { value: 1, generic: 1, graph: 1, descr: Not Redundant }
                        - { value: 2, generic: 0, graph: 1, descr: Redundant (2) }
                        - { value: 3, generic: 0, graph: 1, descr: Redundant (3) }
                        - { value: 4, generic: 0, graph: 1, descr: Redundant (4) }
                        - { value: 5, generic: 0, graph: 1, descr: Redundant (5) }
                        - { value: 6, generic: 0, graph: 1, descr: Redundant (6) }
                        - { value: 7, generic: 0, graph: 1, descr: Redundant (7) }
                        - { value: 8, generic: 0, graph: 1, descr: Redundant (8) }
                    skip_values:
                        -
                            oid: ALCATEL-IND1-LAG-MIB::alclnkaggAggNbrAttachedPorts
                            op: '='
                            value: 0

                -
                    oid: ALCATEL-IND1-CHASSIS-MIB::alaChasEntPhysFanTable
                    value: ALCATEL-IND1-CHASSIS-MIB::alaChasEntPhysFanStatus
                    num_oid: '.1.3.6.1.4.1.6486.801.1.1.1.3.1.1.11.1.2.{{ $index }}'
                    descr: 'CHASSIS-{{ ENTITY-MIB::entPhysicalName:0 }} Fan {{ $subindex1 }}'
                    group: Fans
                    index: 'alaChasEntPhysFanStatus.{{ $index }}'
                    state_name: alaChasEntPhysFanStatus
                    states:
                        - { value: 0, generic: 2, graph: 1, descr: no-error }
                        - { value: 1, generic: 1, graph: 1, descr: notRunning }
                        - { value: 2, generic: 0, graph: 1, descr: running }
                -
                    oid: ALCATEL-IND1-CHASSIS-MIB::chasEntPhysOperStatus
                    num_oid: '.1.3.6.1.4.1.6486.801.1.1.1.1.1.1.1.2.{{ $index }}'
                    descr: '{{ ENTITY-MIB::entPhysicalName:0 }}'
                    group: Components
                    index: 'chasEntPhysOperStatus.{{ $index }}'
                    state_name: chasEntPhysOperStatus
                    states:
                        - { value: 1, generic: 0, graph: 1, descr: Up }
                        - { value: 2, generic: 2, graph: 1, descr: Down }
                        - { value: 3, generic: 3, graph: 1, descr: Testing }
                        - { value: 4, generic: 3, graph: 1, descr: Unknown }
                        - { value: 5, generic: 0, graph: 1, descr: Secondary }
                        - { value: 6, generic: 2, graph: 1, descr: NotPresent }
                        - { value: 7, generic: 2, graph: 1, descr: UnPowered }
                        - { value: 8, generic: 0, graph: 1, descr: Master }
                        - { value: 9, generic: 0, graph: 1, descr: Idle }
                        - { value: 10, generic: 0, graph: 1, descr: PwrSave }
                    skip_values:
                        -
                            oid: ENTITY-MIB::entPhysicalName
                            op: 'regex'
                            value: '/TRANSCEIVER/'
                -
                    oid: ALCATEL-IND1-VIRTUAL-CHASSIS-MIB::virtualChassisStatus
                    num_oid: '.1.3.6.1.4.1.6486.801.1.2.1.69.1.1.2.1.5.{{ $index }}'
                    descr: 'Virtual-Chassis Unit {{ $index }}'
                    group: Virtual Chassis
                    index: 'virtualChassisStatus.{{ $index }}'
                    state_name: virtualChassisStatus
                    states:
                        - { value: 0, generic: 0, graph: 1, descr: Init }
                        - { value: 1, generic: 0, graph: 1, descr: Running }
                        - { value: 2, generic: 2, graph: 1, descr: Invalid Chassis Id }
                        - { value: 3, generic: 2, graph: 1, descr: Hello Down }
                        - { value: 4, generic: 2, graph: 1, descr: Duplicate Chassis Id }
                        - { value: 5, generic: 2, graph: 1, descr: Mismatch Image }
                        - { value: 6, generic: 2, graph: 1, descr: Mismatch Chassis Type }
                        - { value: 7, generic: 2, graph: 1, descr: Mismatch Hello Interval }
                        - { value: 8, generic: 2, graph: 1, descr: Mismatch Control Vlan }
                        - { value: 9, generic: 2, graph: 1, descr: Mismatch Group }
                        - { value: 10, generic: 2, graph: 1, descr: Mismatch License Config }
                        - { value: 11, generic: 2, graph: 1, descr: Invalid License }
                        - { value: 12, generic: 2, graph: 1, descr: Split Topology }
                        - { value: 13, generic: 2, graph: 1, descr: Command Shutdown }
                        - { value: 14, generic: 2, graph: 1, descr: Failure Shutdown }
                -
                    oid: ALCATEL-IND1-VIRTUAL-CHASSIS-MIB::virtualChassisVflMemberPortOperStatus
                    num_oid: '.1.3.6.1.4.1.6486.801.1.2.1.69.1.1.7.1.3.{{ $index }}'
                    descr: 'Virtual-Chassis Port {{ IF-MIB::ifName:2 }}'
                    group: Virtual Chassis
                    index: 'virtualChassisVflMemberPortOperStatus.{{ $index }}'
                    state_name: virtualChassisVflMemberPortOperStatus
                    states:
                        - { value: 0, generic: 1, graph: 1, descr: Disabled }
                        - { value: 2, generic: 2, graph: 1, descr: Down }
                        - { value: 1, generic: 0, graph: 1, descr: Up }
                    entPhysicalIndex_measured: ports
                    entPhysicalIndex: '{{ $subindex2 }}'
        temperature:
            data:
                -
                    oid: ALCATEL-IND1-CHASSIS-MIB::chasChassisEntry
                    value: ALCATEL-IND1-CHASSIS-MIB::chasCPMAHardwareBoardTemp
                    num_oid: '.1.3.6.1.4.1.6486.801.1.1.1.3.1.1.3.1.8.{{ $index }}'
                    descr: '{{ ENTITY-MIB::entPhysicalName:0 }} Temperature'
                    group: Chassis
                    index: 'chasCPMAHardwareBoardTemp.{{ $index }}'
                    high_limit: ALCATEL-IND1-CHASSIS-MIB::chasDangerTempThreshold
                    warn_limit: ALCATEL-IND1-CHASSIS-MIB::chasTempThreshold
                -
                    oid: ALCATEL-IND1-PORT-MIB::ddmPortInfoTable
                    value: ALCATEL-IND1-PORT-MIB::ddmPortTemperature
                    num_oid: '.1.3.6.1.4.1.6486.801.1.2.1.5.1.1.2.6.1.2.{{ $index }}'
                    low_limit: ALCATEL-IND1-PORT-MIB::ddmPortTempLowAlarm
                    low_warn_limit: ALCATEL-IND1-PORT-MIB::ddmPortTempLowWarning
                    high_limit: ALCATEL-IND1-PORT-MIB::ddmPortTempHiAlarm
                    warn_limit: ALCATEL-IND1-PORT-MIB::ddmPortTempHiWarning
                    divisor: 1000
                    descr: '{{ IF-MIB::ifName:0 }} DDM Temperature'
                    group: DDM
                    index: 'rx.{{ $index }}'
                    entPhysicalIndex_measured: ports
                    entPhysicalIndex: '{{ $subindex0 }}'
                    skip_values: 0
        voltage:
            data:
                -
                    oid: ALCATEL-IND1-PORT-MIB::ddmPortInfoTable
                    value: ALCATEL-IND1-PORT-MIB::ddmPortSupplyVoltage
                    num_oid: '.1.3.6.1.4.1.6486.801.1.2.1.5.1.1.2.6.1.7.{{ $index }}'
                    descr: '{{ IF-MIB::ifName:0 }} TX Voltage'
                    divisor: 1000
                    low_limit: ALCATEL-IND1-PORT-MIB::ddmPortSupplyVoltageLowAlarm
                    low_warn_limit: ALCATEL-IND1-PORT-MIB::ddmPortSupplyVoltageLowWarning
                    high_limit: ALCATEL-IND1-PORT-MIB::ddmPortSupplyVoltageHiAlarm
                    warn_limit: ALCATEL-IND1-PORT-MIB::ddmPortSupplyVoltageHiWarning
                    entPhysicalIndex_measured: ports
                    entPhysicalIndex: '{{ $subindex0 }}'
                    skip_values: 0

