modules:
    os:
        hardware: ADVANTECH-COMMON-MIB::sysModuleID.0
        version: 
          - ADVANTECH-COMMON-MIB::sysImageVersion.0
          - ADVANTECH-EKI-PRONEER-MIB::buildVersion.0
        version_template: '{{ ADVANTECH-COMMON-MIB::sysImageVersion.0 }} Build {{ ADVANTECH-EKI-PRONEER-MIB::buildVersion.0 }}'
        #serial: ADVANTECH-EKI-PRONEER-MIB::serialNumber !! DO NOT USE !! - per AFE "the firmware of EKI series switches does not allow reading hardware serial numbers via SNMP."
    sensors:
        additional_oids:
            data:
                -
                    oid:
                        - ADVANTECH-EKI-PRONEER-MIB::sfpDMIAlarmInfoTable
                        - ADVANTECH-EKI-PRONEER-MIB::poeMaxPowerAvailable
        temperature:
            data:
                -
                    oid: ADVANTECH-EKI-PRONEER-MIB::sfpDMIInfoTable
                    value: ADVANTECH-EKI-PRONEER-MIB::sfpDMITemperature
                    num_oid: '.1.3.6.1.4.1.10297.202.7000.2.5.2.1.2.{{ $index }}'
                    descr: '{{ ADVANTECH-EKI-PRONEER-MIB::sfpDMIPortIndex }} Temperature'
                    index: 'sfp-temp-{{ $index }}'
                    low_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMITempLowAlarmValue
                    low_warn_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMITempLowWarnValue
                    warn_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMITempHighWarnValue
                    high_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMITempHighAlarmValue
                -
                    oid: ADVANTECH-EKI-PRONEER-MIB::poePortStatusTable
                    value: ADVANTECH-EKI-PRONEER-MIB::poePortTemp
                    num_oid: '.1.3.6.1.4.1.10297.202.7000.7.3.3.1.5.{{ $index }}'
                    descr: 'GE{{ ADVANTECH-EKI-PRONEER-MIB::poePortStatusIndex }} POE Temperature'
                    index: 'poePortTemp.{{ $index }}'
                    low_limit: -10
                    high_limit: 60
                    skip_values:
                        -
                            oid: ADVANTECH-EKI-PRONEER-MIB::poePortVoltage
                            op: '=='
                            value: "N/A"
        voltage:
            data:
                -
                    oid: ADVANTECH-EKI-PRONEER-MIB::sfpDMIInfoTable
                    value: ADVANTECH-EKI-PRONEER-MIB::sfpDMIVoltage
                    num_oid: '.1.3.6.1.4.1.10297.202.7000.2.5.2.1.3.{{ $index }}'
                    descr: '{{ ADVANTECH-EKI-PRONEER-MIB::sfpDMIPortIndex }} Voltage'
                    index: 'sfp-voltage-{{ $index }}'
                    low_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMIVoltageLowAlarmValue
                    low_warn_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMIVoltageLowWarnValue
                    warn_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMIVoltageHighWarnValue
                    high_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMIVoltageHighAlarmValue
                -
                    oid: ADVANTECH-EKI-PRONEER-MIB::poePortStatusTable
                    value: ADVANTECH-EKI-PRONEER-MIB::poePortVoltage
                    num_oid: '.1.3.6.1.4.1.10297.202.7000.7.3.3.1.3.{{ $index }}'
                    descr: 'GE{{ ADVANTECH-EKI-PRONEER-MIB::poePortStatusIndex }} POE Voltage'
                    index: 'poePortVoltage.{{ $index }}'
                    low_limit: 44
                    high_limit: 57
        current:
            data:
                -
                    oid: ADVANTECH-EKI-PRONEER-MIB::sfpDMIInfoTable
                    value: ADVANTECH-EKI-PRONEER-MIB::sfpDMITxBias
                    num_oid: '.1.3.6.1.4.1.10297.202.7000.2.5.2.1.4.{{ $index }}'
                    descr: '{{ ADVANTECH-EKI-PRONEER-MIB::sfpDMIPortIndex }} Tx Bias'
                    index: 'sfp-current-{{ $index }}'
                    divisor: 1000
                    low_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMITxBasisLowAlarmValue
                    low_warn_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMITxBasisLowWarnValue
                    warn_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMITxBasisHighWarnValue
                    high_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMITxBasisHighAlarmValue
                -
                    oid: ADVANTECH-EKI-PRONEER-MIB::poePortStatusTable
                    value: ADVANTECH-EKI-PRONEER-MIB::poePortCurrent
                    num_oid: '.1.3.6.1.4.1.10297.202.7000.7.3.3.1.2.{{ $index }}'
                    descr: 'GE{{ ADVANTECH-EKI-PRONEER-MIB::poePortStatusIndex }} POE'
                    index: 'poePortCurrent.{{ $index }}'
                    divisor: 1000
                    high_limit: .5
                    low_limit: 0
                    skip_values:
                        -
                            oid: ADVANTECH-EKI-PRONEER-MIB::poePortVoltage
                            op: '=='
                            value: "N/A"
        dbm:
            data:
                -
                    oid: ADVANTECH-EKI-PRONEER-MIB::sfpDMIInfoTable
                    value: ADVANTECH-EKI-PRONEER-MIB::sfpDMITxPower
                    num_oid: '.1.3.6.1.4.1.10297.202.7000.2.5.2.1.5.{{ $index }}'
                    descr: '{{ ADVANTECH-EKI-PRONEER-MIB::sfpDMIPortIndex }} Tx Power'
                    index: 'sfp-tx-dbm-{{ $index }}'
                    low_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMITxPowerLowAlarmValue
                    low_warn_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMITxPowerLowWarnValue
                    warn_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMITxPowerHighWarnValue
                    high_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMITxPowerHighAlarmValue
                -
                    oid: ADVANTECH-EKI-PRONEER-MIB::sfpDMIInfoTable
                    value: ADVANTECH-EKI-PRONEER-MIB::sfpDMIRxPower
                    num_oid: '.1.3.6.1.4.1.10297.202.7000.2.5.2.1.6.{{ $index }}'
                    descr: '{{ ADVANTECH-EKI-PRONEER-MIB::sfpDMIPortIndex }} Rx Power'
                    index: 'sfp-rx-dbm-{{ $index }}'
                    low_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMIRxPowerLowAlarmValue
                    low_warn_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMIRxPowerLowWarnValue
                    warn_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMIRxPowerHighWarnValue
                    high_limit: ADVANTECH-EKI-PRONEER-MIB::sfpDMIRxPowerHighAlarmValue
        power:
            data:
                -
                    oid: ADVANTECH-EKI-PRONEER-MIB::poePortStatusTable
                    value: ADVANTECH-EKI-PRONEER-MIB::poePortPower
                    num_oid: '.1.3.6.1.4.1.10297.202.7000.7.3.3.1.4.{{ $index }}'
                    descr: 'GE{{ ADVANTECH-EKI-PRONEER-MIB::poePortStatusIndex }} POE'
                    index: 'poePortPower.{{ $index }}'
                    high_limit: 30
                    low_limit: 0
                    skip_values:
                        -
                            oid: ADVANTECH-EKI-PRONEER-MIB::poePortVoltage
                            op: '=='
                            value: "N/A"
                -
                    oid: ADVANTECH-EKI-PRONEER-MIB::poeActualPowerConsumption
                    value: ADVANTECH-EKI-PRONEER-MIB::poeActualPowerConsumption
                    num_oid: '.1.3.6.1.4.1.10297.202.7000.7.3.1.3.{{ $index }}'
                    descr: 'Total POE Power Consumption'
                    index: 'poeActualPowerConsumption.{{ $index }}'
                    high_limit: ADVANTECH-EKI-PRONEER-MIB::poeMaxPowerAvailable
        state:
            data:
                -
                    oid: ADVANTECH-EKI-PRONEER-MIB::xRingProInfoTable
                    value: ADVANTECH-EKI-PRONEER-MIB::xRingProInfoPort1FwdState
                    num_oid: '.1.3.6.1.4.1.10297.202.7000.3.14.4.1.5.{{ $index }}'
                    descr: 'X-Ring Pro RingID-{{ ADVANTECH-EKI-PRONEER-MIB::xRingProInfoRingID }} Port-{{ ADVANTECH-EKI-PRONEER-MIB::xRingProInfoPort1 }} - {{ ADVANTECH-EKI-PRONEER-MIB::xRingProInfoOperState }}'
                    index: 'xRingProInfoPort1FwdState.{{ $index }}'
                    state_name: xRingProInfoPort1FwdState
                    states:
                        - { descr: 'FWD', graph: 1, value: 0, generic: 0 }
                        - { descr: 'BLK', graph: 1, value: 1, generic: 0 }
                        - { descr: 'DWN', graph: 1, value: 2, generic: 2 }
                -
                    oid: ADVANTECH-EKI-PRONEER-MIB::xRingProInfoTable
                    value: ADVANTECH-EKI-PRONEER-MIB::xRingProInfoPort2FwdState
                    num_oid: '.1.3.6.1.4.1.10297.202.7000.3.14.4.1.5.{{ $index }}'
                    descr: 'X-Ring Pro RingID-{{ ADVANTECH-EKI-PRONEER-MIB::xRingProInfoRingID }} Port-{{ ADVANTECH-EKI-PRONEER-MIB::xRingProInfoPort2 }} - {{ ADVANTECH-EKI-PRONEER-MIB::xRingProInfoOperState }}'
                    index: 'xRingProInfoPort2FwdState.{{ $index }}'
                    state_name: xRingProInfoPort2FwdState
                    states:
                        - { descr: 'FWD', graph: 1, value: 0, generic: 0 }
                        - { descr: 'BLK', graph: 1, value: 1, generic: 0 }
                        - { descr: 'DWN', graph: 1, value: 2, generic: 2 }
                -
                    oid: ADVANTECH-EKI-PRONEER-MIB::xRingProStatus
                    value: ADVANTECH-EKI-PRONEER-MIB::xRingProStatus
                    num_oid: '.1.3.6.1.4.1.10297.202.7000.3.14.1.{{ $index }}'
                    descr: 'X-Ring Pro Status'
                    index: 'xRingProStatus.{{ $index }}'
                    state_name: xRingProStatus
                    states:
                        - { descr: 'enabled',  graph: 1, value: 1, generic: 0 }
                        - { descr: 'disabled', graph: 1, value: 2, generic: 3 }
                -
                    oid: ADVANTECH-EKI-PRONEER-MIB::xRingEliteState
                    value: ADVANTECH-EKI-PRONEER-MIB::xRingEliteState
                    num_oid: '.1.3.6.1.4.1.10297.202.7000.3.12.1.{{ $index }}'
                    descr: 'X-Ring Elite Status'
                    index: 'xRingEliteState.{{ $index }}'
                    state_name: xRingEliteState
                    states:
                        - { descr: 'enabled',  graph: 1, value: 1, generic: 0 }
                        - { descr: 'disabled', graph: 1, value: 2, generic: 3 }
                -
                    oid: ADVANTECH-EKI-PRONEER-MIB::erpsState
                    value: ADVANTECH-EKI-PRONEER-MIB::erpsState
                    num_oid: '.1.3.6.1.4.1.10297.202.7000.3.16.1.{{ $index }}'
                    descr: 'ERPS Status'
                    index: 'erpsState.{{ $index }}'
                    state_name: erpsState
                    states:
                        - { descr: 'enabled',  graph: 1, value: 1, generic: 0 }
                        - { descr: 'disabled', graph: 1, value: 2, generic: 3 }
