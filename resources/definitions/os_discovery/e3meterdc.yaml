modules:
    os:
        version: NETTRACK-E3METER-CTR-SNMP-MIB::e3ConcentratorFWVersion
    sensors:
        additional_oids:
            data:
                -
                    oid:
                        - NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsLabel
                        - NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsModel
                        - NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsHWVersion
        count:
            data:
                -
                    oid: NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsNetwork
                    value: NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsTotalNodes
                    num_oid: '.1.3.6.1.4.1.21695.1.10.2.1{{ $noindex }}'
                    descr: 'Total Nodes'
                    index: 'TNodes'
                -
                    oid: NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsNetwork
                    value: NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsUnknownNodes
                    num_oid: '.1.3.6.1.4.1.21695.1.10.2.2{{ $noindex }}'
                    descr: 'Unknown Nodes'
                    index: 'UNodes'
                -
                    oid: NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsNetwork
                    value: NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsActiveNodes
                    num_oid: '.1.3.6.1.4.1.21695.1.10.2.3{{ $noindex }}'
                    descr: 'Active Nodes'
                    index: 'ANodes'
                -
                    oid: NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsNetwork
                    value: NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsDeadNodes
                    num_oid: '.1.3.6.1.4.1.21695.1.10.2.4{{ $noindex }}'
                    descr: 'Dead Nodes'
                    index: 'DNodes'
        temperature:
            data:
                -
                    oid: NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsSensorEntry
                    value: NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsSensorTemperatureCelsius
                    num_oid: '.1.3.6.1.4.1.21695.1.10.5.1.4.{{ $index }}'
                    descr: 'Sensor {{ $subindex1 }}, {{ NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsLabel:0 }}'
                    group: 'Model {{ NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsModel:0 }} rev{{ NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsHWVersion:0 }}, {{ NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsLabel:0 }}'
                    index: '{{ $index }}'
                    divisor: 10
                    skip_values:
                        -
                            oid: NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsSensorType
                            op: '!='
                            value: '1'
                        -
                            oid: NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsSensorTemperatureCelsius
                            op: '='
                            value: '0'
        frequency:
            data:
                -
                    oid: NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsMeterEntry
                    value: NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsFrequency
                    num_oid: '.1.3.6.1.4.1.21695.1.10.4.1.11.{{ $index }}'
                    descr: 'Phase {{ $subindex1 }}, {{ NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsLabel:0 }}'
                    group: 'Model {{ NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsModel:0 }} rev{{ NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsHWVersion:0 }}, {{ NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsLabel:0 }}'
                    index: '{{ $index }}'
                    divisor: 1000
                    skip_values:
                        -
                            oid: NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsFrequency
                            op: '='
                            value: '0'
        power:
            data:
                -
                    oid: NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsMeterEntry
                    value: NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsPAvg
                    num_oid: '.1.3.6.1.4.1.21695.1.10.4.1.18.{{ $index }}'
                    descr: 'Phase {{ $subindex1 }}, {{ NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsLabel:0 }}'
                    group: 'Model {{ NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsModel:0 }} rev{{ NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsHWVersion:0 }}, {{ NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsLabel:0 }}'
                    index: '{{ $index }}'
                    skip_values:
                        -
                            oid: NETTRACK-E3METER-CTR-SNMP-MIB::e3IpsFrequency
                            op: '='
                            value: '0'
