modules:
    os:
        serial: CPI-UNITY-MIB::modelCode.0
        version: CPI-UNITY-MIB::version.0
    sensors:
        additional_oids:
            data:
                -
                    oid:
                        - CPI-UNITY-MIB::cpiPduOutletName
                        - CPI-UNITY-MIB::cpiPduBranchId
        current:
            data:
                -
                    oid: CPI-UNITY-MIB::cpiPduOutletCurrent
                    value: CPI-UNITY-MIB::cpiPduOutletCurrent
                    num_oid: '.1.3.6.1.4.1.30932.1.10.1.4.10.1.6.{{ $index }}'
                    descr: '{{ CPI-UNITY-MIB::cpiPduOutletName }}'
                    index: '{{ $index }}'
                    divisor: 100
                -
                    oid: CPI-UNITY-MIB::cpiPduBranchCurrent
                    value: CPI-UNITY-MIB::cpiPduBranchCurrent
                    num_oid: '.1.3.6.1.4.1.30932.1.10.1.3.110.1.3.{{ $index }}'
                    descr: 'CB{{ CPI-UNITY-MIB::cpiPduBranchId }}'
                    index: '{{ $index }}'
                    divisor: 100
        voltage:
            data:
                -
                    oid: CPI-UNITY-MIB::cpiPduOutletVoltage
                    value: CPI-UNITY-MIB::cpiPduOutletVoltage
                    num_oid: '.1.3.6.1.4.1.30932.1.10.1.4.10.1.7.{{ $index }}'
                    descr: '{{ CPI-UNITY-MIB::cpiPduOutletName }}'
                    index: '{{ $index }}'
                    divisor: 10
                -
                    oid: CPI-UNITY-MIB::cpiPduBranchVoltage
                    value: CPI-UNITY-MIB::cpiPduBranchVoltage
                    num_oid: '.1.3.6.1.4.1.30932.1.10.1.3.110.1.5.{{ $index }}'
                    descr: 'CB{{ CPI-UNITY-MIB::cpiPduBranchId }}'
                    index: '{{ $index }}'
                    divisor: 10
        power:
            data:
                -
                    oid: CPI-UNITY-MIB::cpiPduOutletPower
                    value: CPI-UNITY-MIB::cpiPduOutletPower
                    num_oid: '.1.3.6.1.4.1.30932.1.10.1.4.10.1.8.{{ $index }}'
                    descr: '{{ CPI-UNITY-MIB::cpiPduOutletName }}'
                    index: '{{ $index }}'
                -
                    oid: CPI-UNITY-MIB::cpiPduBranchPower
                    value: CPI-UNITY-MIB::cpiPduBranchPower
                    num_oid: '.1.3.6.1.4.1.30932.1.10.1.3.110.1.6.{{ $index }}'
                    descr: 'CB{{ CPI-UNITY-MIB::cpiPduBranchId }}'
                    index: '{{ $index }}'
        power_consumed:
            data:
                -
                    oid: CPI-UNITY-MIB::cpiPduOutletEnergy
                    value: CPI-UNITY-MIB::cpiPduOutletEnergy
                    num_oid: '.1.3.6.1.4.1.30932.1.10.1.4.10.1.10.{{ $index }}'
                    descr: '{{ CPI-UNITY-MIB::cpiPduOutletName }}'
                    index: '{{ $index }}'
                    divisor: 360000
                -
                    oid: CPI-UNITY-MIB::cpiPduBranchEnergy
                    value: CPI-UNITY-MIB::cpiPduBranchEnergy
                    num_oid: '.1.3.6.1.4.1.30932.1.10.1.3.110.1.9.{{ $index }}'
                    descr: 'CB{{ CPI-UNITY-MIB::cpiPduBranchId }}'
                    index: '{{ $index }}'
                    divisor: 360000
        state:
            data:
                -
                    oid: CPI-UNITY-MIB::cpiPduOutletControl
                    value: CPI-UNITY-MIB::cpiPduOutletControl
                    num_oid: '.1.3.6.1.4.1.30932.1.10.1.4.10.1.11.{{ $index }}'
                    descr: '{{ CPI-UNITY-MIB::cpiPduOutletName }}'
                    state_name: cpiPduOutletControl
                    states:
                        - { descr: Off, graph: 1, value: 0, generic: 0 }
                        - { descr: On, graph: 1, value: 1, generic: 0 }
                -
                    oid: CPI-UNITY-MIB::cpiPduBranchStatus
                    value: CPI-UNITY-MIB::cpiPduBranchStatus
                    num_oid: '.1.3.6.1.4.1.30932.1.10.1.3.110.1.8.{{ $index }}'
                    descr: 'CB{{ CPI-UNITY-MIB::cpiPduBranchId }} Status'
                    state_name: cpiPduBranchStatus
                    states:
                        - { descr: NoAlarm, graph: 1, value: 0, generic: 0 }
                        - { descr: Warning, graph: 1, value: 1, generic: 1 }
                        - { descr: Alarm, graph: 1, value: 2, generic: 2 }
