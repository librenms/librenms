modules:
    mempools:
        data:
            -
                percent_used: ZYXEL-ES-COMMON::sysMgmtMemUsage
                type: zyxel
    processors:
        data:
            -
                oid: ZYXEL-GS4012F-MIB::sysMgmtCPUUsage
                value: ZYXEL-GS4012F-MIB::sysMgmtCPUUsage
                num_oid: '.1.3.6.1.4.1.890.1.5.8.20.12.7.{{ $index }}'
            -
                oid: ZYXEL-GS2200-24-MIB::sysMgmtCPUUsage
                value: ZYXEL-GS2200-24-MIB::sysMgmtCPUUsage
                num_oid: '.1.3.6.1.4.1.890.1.5.8.55.12.7.{{ $index }}'
            -
                oid: ZYXEL-MGS3712-MIB::sysMgmtCPUUsage
                value: ZYXEL-MGS3712-MIB::sysMgmtCPUUsage
                num_oid: '.1.3.6.1.4.1.890.1.5.8.47.11.7.{{ $index }}'
            -
                oid: ZYXEL-ES-COMMON::sysMgmtCPU5SecUsage
                num_oid: '.1.3.6.1.4.1.890.1.15.3.2.7.{{ $index }}'
    sensors:
        state:
            data:
                -
                    oid: ZYXEL-STACKING-MIB::zyxelStackingSlotInfoTable
                    value: ZYXEL-STACKING-MIB::zyStackingSlotInfoRole
                    num_oid: '.1.3.6.1.4.1.890.1.15.3.97.2.1.1.5.{{ $index }}'
                    descr: 'Switch {{ $index }} Stacking Role'
                    group: Switch Role
                    index: 'zyStackingSlotInfoRole.{{ $index }}'
                    state_name: zyStackingSlotInfoRole
                    states:
                        - { value: 1, generic: 0, graph: 0, descr: master }
                        - { value: 2, generic: 0, graph: 0, descr: backup }
                        - { value: 3, generic: 0, graph: 0, descr: linecard }
                        - { value: 0, generic: 3, graph: 0, descr: none }
                    skip_values:
                        -
                            oid: ZYXEL-STACKING-MIB::zyStackingSlotInfoStackingStatus
                            op: '=='
                            value: '0'
                -
                    oid: ZYXEL-STACKING-MIB::zyxelStackingSlotChannelInfoTable
                    value: ZYXEL-STACKING-MIB::zyStackingSlotChannelInfoNeighbor
                    num_oid: '.1.3.6.1.4.1.890.1.15.3.97.2.2.1.5.{{ $index }}'
                    descr: 'Switch {{ $subindex0 }} Port {{ $subindex1 }} Neighbor'
                    group: Stacking Neighbor
                    index: 'zyStackingSlotChannelInfoNeighbor.{{ $index }}'
                    state_name: zyStackingSlotChannelInfoNeighbor
                    states:
                        - { value: 1, generic: 0, graph: 0, descr: 'Switch 1' }
                        - { value: 2, generic: 0, graph: 0, descr: 'Switch 2' }
                        - { value: 3, generic: 0, graph: 0, descr: 'Switch 3' }
                        - { value: 4, generic: 0, graph: 0, descr: 'Switch 4' }
                        - { value: 0, generic: 3, graph: 0, descr: none }
                -
                    oid: ZYXEL-STACKING-MIB::zyStackingTopology
                    value: ZYXEL-STACKING-MIB::zyStackingTopology
                    num_oid: '.1.3.6.1.4.1.890.1.15.3.97.2.3.{{ $index }}'
                    descr: 'Stacking Topology'
                    group: Stacking Topology
                    index: 'zyStackingTopology.{{ $index }}'
                    state_name: zyStackingTopology
                    states:
                        - { value: 1, generic: 1, graph: 0, descr: chain }
                        - { value: 2, generic: 0, graph: 0, descr: ring }
                        - { value: 0, generic: 3, graph: 0, descr: none }
        fanspeed:
            options:
                skip_value_lt: 0
            data:
                -
                    oid: ZYXEL-HW-MONITOR-MIB::zyxelHwMonitorFanRpmTable
                    value: ZYXEL-HW-MONITOR-MIB::zyHwMonitorFanRpmCurrentValue
                    num_oid: '.1.3.6.1.4.1.890.1.15.3.26.1.1.1.3.{{ $index }}'
                    descr: 'Switch {{ ZYXEL-HW-MONITOR-MIB::zyHwMonitorFanRpmDescription }}'
                    index: 'zyHwMonitorFanRpmCurrentValue.{{ $index }}'
                    high_limit: ZYXEL-HW-MONITOR-MIB::zyHwMonitorFanRpmMaxValue
                    low_limit: ZYXEL-HW-MONITOR-MIB::zyHwMonitorFanRpmMinValue
                    low_warn_limit: ZYXEL-HW-MONITOR-MIB::zyHwMonitorFanRpmLowThreshold
                -
                    oid: ZYXEL-MGS3712-MIB::fanRpmTable
                    value: ZYXEL-MGS3712-MIB::fanRpmCurValue
                    num_oid: '.1.3.6.1.4.1.890.1.5.8.47.8.1.1.2.{{ $index }}'
                    descr: 'Fan {{ $index }} ({{ ZYXEL-MGS3712-MIB::fanRpmDescr }})'
                    index: 'fanRpmCurValue.{{ $index }}'
                    low_limit: ZYXEL-MGS3712-MIB::fanRpmLowThresh
        temperature:
            data:
                -
                    oid: ZYXEL-HW-MONITOR-MIB::zyxelHwMonitorTemperatureTable
                    value: ZYXEL-HW-MONITOR-MIB::zyHwMonitorTemperatureCurrentValue
                    num_oid: '.1.3.6.1.4.1.890.1.15.3.26.1.2.1.3.{{ $index }}'
                    descr: 'Switch {{ ZYXEL-HW-MONITOR-MIB::zyHwMonitorTemperatureDescription }}'
                    index: 'zyHwMonitorTemperatureCurrentValue.{{ $index }}'
                    high_limit: ZYXEL-HW-MONITOR-MIB::zyHwMonitorTemperatureMaxValue
                    low_limit: ZYXEL-HW-MONITOR-MIB::zyHwMonitorTemperatureMinValue
                    warn_limit: ZYXEL-HW-MONITOR-MIB::zyHwMonitorTemperatureHighThreshold
                -
                    oid: ZYXEL-MGS3712-MIB::tempTable
                    value: ZYXEL-MGS3712-MIB::tempCurValue
                    num_oid: '.1.3.6.1.4.1.890.1.5.8.47.8.2.1.2.{{ $index }}'
                    descr: 'Temp {{ $index }} ({{ ZYXEL-MGS3712-MIB::tempDescr }})'
                    index: 'tempCurValue.{{ $index }}'
                    high_limit: ZYXEL-MGS3712-MIB::tempHighThresh
                -
                    oid: ZYXEL-MGS3712-MIB::transceiverDdmInfoTable
                    value: ZYXEL-MGS3712-MIB::transceiverDdmInfoEntryCurrent
                    num_oid: '.1.3.6.1.4.1.890.1.5.8.47.117.2.1.7.{{ $index }}'
                    descr: 'SFP ifIndex {{ ZYXEL-MGS3712-MIB::transceiverDdmInfoEntryPort }} {{ ZYXEL-MGS3712-MIB::transceiverDdmInfoEntryDescription }}'
                    index: 'transceiverDdmInfoEntryCurrent.{{ $index }}'
                    high_limit: ZYXEL-MGS3712-MIB::transceiverDdmInfoEntryAlarmMax
                    low_limit: ZYXEL-MGS3712-MIB::transceiverDdmInfoEntryAlarmMin
                    warn_limit: ZYXEL-MGS3712-MIB::transceiverDdmInfoEntryWarnMax
                    low_warn_limit: ZYXEL-MGS3712-MIB::transceiverDdmInfoEntryWarnMin
                    divisor: 100
                    entPhysicalIndex: ZYXEL-MGS3712-MIB::transceiverDdmInfoEntryPort
                    entPhysicalIndex_measured: ports
                    skip_values:
                        -
                            oid: ZYXEL-MGS3712-MIB::transceiverDdmInfoEntryDescription
                            op: '!='
                            value: 'Temperature'
        dbm:
            options:
                divisor: 100
            data:
                -
                    oid: ZYXEL-TRANSCEIVER-MIB::zyxelTransceiverDdmiTable
                    value: ZYXEL-TRANSCEIVER-MIB::zyTransceiverDdmiCurrent
                    num_oid: '.1.3.6.1.4.1.890.1.15.3.84.1.2.1.6.{{ $index }}'
                    entPhysicalIndex: '{{ $subindex0 }}'
                    entPhysicalIndex_measured: 'ports'
                    descr: '{{ $subindex0 }} Tx Power'
                    index: 'zyTransceiverDdmiCurrent.{{ $index }}'
                    high_limit: ZYXEL-TRANSCEIVER-MIB::zyTransceiverDdmiAlarmMax
                    low_limit: ZYXEL-TRANSCEIVER-MIB::zyTransceiverDdmiAlarmMin
                    warn_limit: ZYXEL-TRANSCEIVER-MIB::zyTransceiverDdmiWarnMax
                    low_warn_limit: ZYXEL-TRANSCEIVER-MIB::zyTransceiverDdmiWarnMin
                    skip_values:
                        -
                            oid: ZYXEL-TRANSCEIVER-MIB::zyTransceiverDdmiDescription
                            op: '!='
                            value: 'TxPower'
                        -
                            oid: ZYXEL-TRANSCEIVER-MIB::zyTransceiverDdmiCurrent
                            op: '=='
                            value: '0'
                -
                    oid: ZYXEL-TRANSCEIVER-MIB::zyxelTransceiverDdmiTable
                    value: ZYXEL-TRANSCEIVER-MIB::zyTransceiverDdmiCurrent
                    num_oid: '.1.3.6.1.4.1.890.1.15.3.84.1.2.1.6.{{ $index }}'
                    entPhysicalIndex: '{{ $subindex0 }}'
                    entPhysicalIndex_measured: 'ports'
                    descr: '{{ $subindex0 }} Rx Power'
                    index: 'zyTransceiverDdmiCurrent.{{ $index }}'
                    high_limit: ZYXEL-TRANSCEIVER-MIB::zyTransceiverDdmiAlarmMax
                    low_limit: ZYXEL-TRANSCEIVER-MIB::zyTransceiverDdmiAlarmMin
                    warn_limit: ZYXEL-TRANSCEIVER-MIB::zyTransceiverDdmiWarnMax
                    low_warn_limit: ZYXEL-TRANSCEIVER-MIB::zyTransceiverDdmiWarnMin
                    skip_values:
                        -
                            oid: ZYXEL-TRANSCEIVER-MIB::zyTransceiverDdmiDescription
                            op: '!='
                            value: 'RxPower'
                        -
                            oid: ZYXEL-TRANSCEIVER-MIB::zyTransceiverDdmiCurrent
                            op: '=='
                            value: '0'
        voltage:
            options:
                skip_value_lt: 0
            data:
                -
                    oid: ZYXEL-HW-MONITOR-MIB::zyxelHwMonitorVoltageTable
                    value: ZYXEL-HW-MONITOR-MIB::zyHwMonitorVoltageCurrentValue
                    num_oid: '.1.3.6.1.4.1.890.1.15.3.26.1.3.1.3.{{ $index }}'
                    divisor: 1000
                    descr: 'Switch {{ ZYXEL-HW-MONITOR-MIB::zyHwMonitorVoltageDescription }}'
                    index: 'zyHwMonitorVoltageCurrentValue.{{ $index }}'
                    high_limit: ZYXEL-HW-MONITOR-MIB::zyHwMonitorVoltageMaxValue
                    low_limit: ZYXEL-HW-MONITOR-MIB::zyHwMonitorVoltageMinValue
                    low_warn_limit: ZYXEL-HW-MONITOR-MIB::zyHwMonitorVoltageLowThreshold
                -
                    oid: ZYXEL-MGS3712-MIB::voltageTable
                    value: ZYXEL-MGS3712-MIB::voltageCurValue
                    num_oid: '.1.3.6.1.4.1.890.1.5.8.47.8.3.1.2.{{ $index }}'
                    divisor: 1000
                    descr: '{{ ZYXEL-MGS3712-MIB::voltageNominalValue }}mV ({{ ZYXEL-MGS3712-MIB::voltageDescr }})'
                    index: 'voltageCurValue.{{ $index }}'
                    low_limit: ZYXEL-MGS3712-MIB::voltageLowThresh
                -
                    oid: ZYXEL-MGS3712-MIB::transceiverDdmInfoTable
                    value: ZYXEL-MGS3712-MIB::transceiverDdmInfoEntryCurrent
                    num_oid: '.1.3.6.1.4.1.890.1.5.8.47.117.2.1.7.{{ $index }}'
                    descr: 'SFP ifIndex {{ ZYXEL-MGS3712-MIB::transceiverDdmInfoEntryPort }} {{ ZYXEL-MGS3712-MIB::transceiverDdmInfoEntryDescription }}'
                    index: 'transceiverDdmInfoEntryCurrent.{{ $index }}'
                    high_limit: ZYXEL-MGS3712-MIB::transceiverDdmInfoEntryAlarmMax
                    low_limit: ZYXEL-MGS3712-MIB::transceiverDdmInfoEntryAlarmMin
                    warn_limit: ZYXEL-MGS3712-MIB::transceiverDdmInfoEntryWarnMax
                    low_warn_limit: ZYXEL-MGS3712-MIB::transceiverDdmInfoEntryWarnMin
                    divisor: 100
                    entPhysicalIndex: ZYXEL-MGS3712-MIB::transceiverDdmInfoEntryPort
                    entPhysicalIndex_measured: ports
                    skip_values:
                        -
                            oid: ZYXEL-MGS3712-MIB::transceiverDdmInfoEntryDescription
                            op: '!='
                            value: 'Voltage'
        power:
            data:
                -
                    oid: POWER-ETHERNET-MIB::pethMainPseTable
                    value: POWER-ETHERNET-MIB::pethMainPsePower
                    num_oid: '.1.3.6.1.2.1.105.1.3.1.1.2.{{ $index }}'
                    index: 'pethMainPsePower.{{ $index }}'
                    group: "PoE"
                    descr: "PoE Budget Total - ID {{ $index }}"
                -
                    oid: POWER-ETHERNET-MIB::pethMainPseTable
                    value: POWER-ETHERNET-MIB::pethMainPseConsumptionPower
                    num_oid: '.1.3.6.1.2.1.105.1.3.1.1.4.{{ $index }}'
                    index: 'pethMainPseConsumptionPower.{{ $index }}'
                    high_limit: POWER-ETHERNET-MIB::pethMainPsePower
                    group: "PoE"
                    descr: "PoE Budget Consumed - ID {{ $index }}"
