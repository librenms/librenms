modules:
    os:
        hardware: ES4552BH2-MIB::swModelNumber.1
        serial: ES4552BH2-MIB::swSerialNumber.1
        version: ES4552BH2-MIB::swOpCodeVer.1
    sensors:
        additional_oids:
            data:
                -
                    oid:
                        - ES4552BH2-MIB::portTransceiverThresholdInfoTable
                        - ES4552BH2-MIB::portName
        voltage:
            data:
                -
                    oid: ES4552BH2-MIB::portOpticalMonitoringInfoTable
                    value: ES4552BH2-MIB::portOpticalMonitoringInfoVcc
                    num_oid: '.1.3.6.1.4.1.259.6.10.120.1.2.11.1.3.{{ $index }}'
                    descr: '{{ ES4552BH2-MIB::portName }}'
                    index: 'portOpticalMonitoringInfoVcc.{{ $index }}'
                    low_warn_limit: ES4552BH2-MIB::portTransceiverThresholdInfoVccLowWarn
                    low_limit: ES4552BH2-MIB::portTransceiverThresholdInfoVccLowAlarm
                    warn_limit: ES4552BH2-MIB::portTransceiverThresholdInfoVccHighWarn
                    high_limit: ES4552BH2-MIB::portTransceiverThresholdInfoVccHighAlarm
        current:
            data:
                -
                    oid: ES4552BH2-MIB::portOpticalMonitoringInfoTable
                    value: ES4552BH2-MIB::portOpticalMonitoringInfoTxBiasCurrent
                    num_oid: '.1.3.6.1.4.1.259.6.10.120.1.2.11.1.4.{{ $index }}'
                    descr: '{{ ES4552BH2-MIB::portName }} - Tx'
                    index: 'portOpticalMonitoringInfoTxBiasCurrent.{{ $index }}'
                    low_warn_limit: ES4552BH2-MIB::portTransceiverThresholdInfoTxBiasCurrentLowWarn
                    low_limit: ES4552BH2-MIB::portTransceiverThresholdInfoTxBiasCurrentLowAlarm
                    warn_limit: ES4552BH2-MIB::portTransceiverThresholdInfoTxBiasCurrentHighWarn
                    high_limit: ES4552BH2-MIB::portTransceiverThresholdInfoTxBiasCurrentHighAlarm
                    divisor: 1000
        dbm:
            data:
                -
                    oid: ES4552BH2-MIB::portOpticalMonitoringInfoTable
                    value: ES4552BH2-MIB::portOpticalMonitoringInfoTxPower
                    num_oid: '.1.3.6.1.4.1.259.6.10.120.1.2.11.1.5.{{ $index }}'
                    descr: '{{ ES4552BH2-MIB::portName }} - Tx'
                    index: 'portOpticalMonitoringInfoTxPower.{{ $index }}'
                    low_warn_limit: ES4552BH2-MIB::portTransceiverThresholdInfoTxPowerLowWarn
                    low_limit: ES4552BH2-MIB::portTransceiverThresholdInfoTxPowerLowAlarm
                    warn_limit: ES4552BH2-MIB::portTransceiverThresholdInfoTxPowerHighWarn
                    high_limit: ES4552BH2-MIB::portTransceiverThresholdInfoTxPowerHighAlarm
                -
                    oid: ES4552BH2-MIB::portOpticalMonitoringInfoTable
                    value: ES4552BH2-MIB::portOpticalMonitoringInfoRxPower
                    num_oid: '.1.3.6.1.4.1.259.6.10.120.1.2.11.1.6.{{ $index }}'
                    descr: '{{ ES4552BH2-MIB::portName }} - Rx'
                    index: 'portOpticalMonitoringInfoRxPower.{{ $index }}'
                    low_warn_limit: ES4552BH2-MIB::portTransceiverThresholdInfoRxPowerLowWarn
                    low_limit: ES4552BH2-MIB::portTransceiverThresholdInfoRxPowerLowAlarm
                    warn_limit: ES4552BH2-MIB::portTransceiverThresholdInfoRxPowerHighWarn
                    high_limit: ES4552BH2-MIB::portTransceiverThresholdInfoRxPowerHighAlarm
        temperature:
            data:
                -
                    oid: ES4552BH2-MIB::portOpticalMonitoringInfoTable
                    value: ES4552BH2-MIB::portOpticalMonitoringInfoTemperature
                    num_oid: '.1.3.6.1.4.1.259.6.10.120.1.2.11.1.2.{{ $index }}'
                    descr: '{{ ES4552BH2-MIB::portName }}'
                    index: 'portOpticalMonitoringInfoTemperature.{{ $index }}'
                    low_warn_limit: ES4552BH2-MIB::portTransceiverThresholdInfoTemperatureLowWarn
                    low_limit: ES4552BH2-MIB::portTransceiverThresholdInfoTemperatureLowAlarm
                    warn_limit: ES4552BH2-MIB::portTransceiverThresholdInfoTemperatureHighWarn
                    high_limit: ES4552BH2-MIB::portTransceiverThresholdInfoTemperatureHighAlarm
                -
                    oid: ES4552BH2-MIB::switchThermalTempTable
                    value: ES4552BH2-MIB::switchThermalTempValue
                    group: 'Unit {{ $subindex0 }}'
                    num_oid: '.1.3.6.1.4.1.259.6.10.120.1.1.11.1.3.{{ $index }}'
                    descr: 'Unit {{ $subindex0 }} Thermal {{ $subindex1 }}'
                    index: 'switchThermalTempValue.{{ $index }}'
        fanspeed:
            data:
                -
                    oid: ES4552BH2-MIB::switchFanTable
                    value: ES4552BH2-MIB::switchFanOperSpeed
                    num_oid: '.1.3.6.1.4.1.259.6.10.120.1.1.9.1.6.{{ $index }}'
                    group: 'Unit {{ $subindex0 }}'
                    descr: 'Unit {{ $subindex0 }} Fan {{ $subindex1 }}'
                    index: 'switchFanOperSpeed.{{ $index }}'
        state:
            data:
                -
                    oid: ES4552BH2-MIB::switchFanTable
                    value: ES4552BH2-MIB::switchFanStatus
                    num_oid: '.1.3.6.1.4.1.259.6.10.120.1.1.9.1.3.{{ $index }}'
                    group: 'Unit {{ $subindex0 }}'
                    descr: 'Unit {{ $subindex0 }} Fan {{ $subindex1 }}'
                    index: 'switchFanStatus.{{ $index }}'
                    state_name: switchFanStatus
                    states:
                        - { value: 1, generic: 0, graph: 1, descr: ok }
                        - { value: 2, generic: 2, graph: 1, descr: failure }
                -
                    oid: ES4552BH2-MIB::switchInfoTable
                    value: ES4552BH2-MIB::swPowerStatus
                    num_oid: '.1.3.6.1.4.1.259.6.10.120.1.1.3.1.8.{{ $index }}'
                    descr: Power state
                    index: 'swPowerStatus.{{ $index }}'
                    state_name: swPowerStatus
                    states:
                        - { value: 1, generic: 1, graph: 1, descr: internalPower }
                        - { value: 2, generic: 0, graph: 1, descr: redundantPower }
                        - { value: 3, generic: 0, graph: 1, descr: internalAndRedundantPower }
                -
                    oid: ES4552BH2-MIB::switchInfoTable
                    value: ES4552BH2-MIB::swRoleInSystem
                    num_oid: '.1.3.6.1.4.1.259.6.10.120.1.1.3.1.9.{{ $index }}'
                    descr: Switch role
                    index: 'swRoleInSystem.{{ $index }}'
                    state_name: swRoleInSystem
                    states:
                        - { value: 1, generic: 0, graph: 1, descr: master }
                        - { value: 2, generic: 0, graph: 1, descr: backupMaster }
                        - { value: 3, generic: 0, graph: 1, descr: slave }
