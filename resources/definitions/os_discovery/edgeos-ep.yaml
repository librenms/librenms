modules:
    os:
        hardware: UBNT-EdgeMAX-MIB::ubntModel.0
        version: UBNT-EdgeMAX-MIB::ubntVersion.0
    processors:
        data:
            -
                oid: UBNT-EdgeMAX-MIB::ubntHostCpuLoad
                num_oid: '.1.3.6.1.4.1.41112.1.4.8.3.{{ $index }}'
                precision: 100
    sensors:
        count:
            data:
                -
                    oid: UBNT-EdgeMAX-MIB::ubntPsuBaysNumber
                    num_oid: '.1.3.6.1.4.1.41112.1.5.3.1.{{ $index }}'
                    descr: Number of PSU's
                -
                    oid: UBNT-EdgeMAX-MIB::ubntPsuBatteryQuantity
                    num_oid: '.1.3.6.1.4.1.41112.1.5.3.2.1.8.{{ $index }}'
                    descr: 'Number of batteries PSU {{ $index }}'
        voltage:
            data:
                -
                    oid: UBNT-EdgeMAX-MIB::ubntPowerOutVoltage
                    divisor: 1000
                    num_oid: '.1.3.6.1.4.1.41112.1.5.2.2.1.2.{{ $index }}'
                    descr: Output Voltage
                -
                    oid: UBNT-EdgeMAX-MIB::ubntPsuVoltage
                    divisor: 1000
                    num_oid: '.1.3.6.1.4.1.41112.1.5.3.2.1.5.{{ $index }}'
                    index: 'ubntPsuVoltage.{{ $index }}'
                    descr: 'Input Voltage PSU {{ $index }}'
        charge:
            data:
                -
                    oid: UBNT-EdgeMAX-MIB::ubntPsuBatteryChargeLevel
                    num_oid: '.1.3.6.1.4.1.41112.1.5.3.2.1.9.{{ $index }}'
                    index: 'ubntPsuBatteryChargeLevel.{{ $index }}'
                    descr: 'Charge percentage PSU {{ $index }}'
        runtime:
            data:
                -
                    oid: UBNT-EdgeMAX-MIB::ubntPsuBatteryTimeRemaining
                    divisor: 6000
                    num_oid: '.1.3.6.1.4.1.41112.1.5.3.2.1.10.{{ $index }}'
                    index: 'ubntPsuBatteryTimeRemaining.{{ $index }}'
                    descr: 'Battery runtime remaining PSU {{ $index }}'
        current:
            data:
                -
                    oid: UBNT-EdgeMAX-MIB::ubntPowerOutCurrent
                    divisor: 1000
                    num_oid: '.1.3.6.1.4.1.41112.1.5.2.2.1.3.{{ $index }}'
                    descr: Output Current
        power:
            data:
                -
                    oid: UBNT-EdgeMAX-MIB::ubntPowerOutPower
                    divisor: 1000
                    num_oid: '.1.3.6.1.4.1.41112.1.5.2.2.1.4.{{ $index }}'
                    descr: Output power
        state:
            data:
                -
                    oid: UBNT-EdgeMAX-MIB::ubntPsuOperStatus
                    num_oid: '.1.3.6.1.4.1.41112.1.5.3.2.1.4.{{ $index }}'
                    state_name: ubntPsuOperStatus
                    low_limit: 0
                    descr: 'PSU {{ $index }}'
                    states:
                        - { descr: Offline, graph: 0, value: 0, generic: 2 }
                        - { descr: Online, graph: 0, value: 1, generic: 0 }
                -
                    oid: UBNT-EdgeMAX-MIB::ubntPsuCharging
                    value: UBNT-EdgeMAX-MIB::ubntPsuCharging
                    num_oid: '.1.3.6.1.4.1.41112.1.5.3.2.1.7.{{ $index }}'
                    state_name: ubntPsuCharging
                    descr: 'Charge status PSU {{ $index }}'
                    index: '{{ $index }}'
                    states:
                        - { descr: unknown, graph: 0, value: 0, generic: 1 }
                        - { descr: Charging, graph: 0, value: 1, generic: 0 }
                        - { descr: Charging Off, graph: 0, value: 2, generic: 0 }
                -
                    oid: UBNT-EdgeMAX-MIB::ubntPsuStatus
                    value: UBNT-EdgeMAX-MIB::ubntPsuStatus
                    num_oid: '.1.3.6.1.4.1.41112.1.5.3.2.1.3.{{ $index }}'
                    state_name: ubntPsuStatus
                    descr: 'PSU status {{ $index }}'
                    index: '{{ $index }}'
                    states:
                        - { descr: unknown, graph: 0, value: 0, generic: 1 }
                        - { descr: On, graph: 0, value: 1, generic: 0 }
                        - { descr: Off, graph: 0, value: 2, generic: 2 }
                        - { descr: Standby, graph: 0, value: 3, generic: 0 }
                -
                    oid: UBNT-EdgeMAX-MIB::ubntPsuType
                    value: UBNT-EdgeMAX-MIB::ubntPsuType
                    num_oid: '.1.3.6.1.4.1.41112.1.5.3.2.1.2.{{ $index }}'
                    state_name: ubntPsuType
                    descr: 'PSU type {{ $index }}'
                    index: '{{ $index }}'
                    states:
                        - { descr: unknown, graph: 0, value: 0, generic: 1 }
                        - { descr: AC, graph: 0, value: 1, generic: 0 }
                        - { descr: DC, graph: 0, value: 2, generic: 0 }
                        - { descr: POE, graph: 0, value: 3, generic: 0 }
                -
                    oid: UBNT-EdgeMAX-MIB::ubntPsuBatteryReplaceIndicator
                    value: UBNT-EdgeMAX-MIB::ubntPsuBatteryReplaceIndicator
                    state_name: ubntPsuBatteryReplaceIndicator
                    num_oid: '.1.3.6.1.4.1.41112.1.5.3.2.1.11.{{ $index }}'
                    descr: 'Battery indicator PSU {{ $index }}'
                    index: '{{ $index }}'
                    states:
                        - { descr: unknown, graph: 0, value: 0, generic: 1 }
                        - { descr: OK, graph: 0, value: 1, generic: 0 }
                        - { descr: REPLACE, graph: 0, value: 2, generic: 1 }
        temperature:
            data:
                -
                    oid: UBNT-EdgeMAX-MIB::ubntThermTemperature
                    divisor: 1000
                    num_oid: '.1.3.6.1.4.1.41112.1.5.4.2.1.3.{{ $index }}'
                    index: 'ubntThermTemperature.{{ $index }}'
                    descr: 'Temperatures {{ $index }}'
                    low_limit: 0
                    low_warn_limit: 5
                    warn_limit: 35
                    high_limit: 40
