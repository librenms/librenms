modules:
    os:
        hardware:
            - WTI-POWER-MIB::environmentUnitName.1
    sensors:
        state:
            data:
                -
                    oid: WTI-POWER-MIB::plugTable
                    value: WTI-POWER-MIB::plugStatus
                    num_oid: '.1.3.6.1.4.1.2634.3.100.200.1.3.{{ $index }}'
                    state_name: plugTable
                    index: 'plugStatus.{{ $index }}'
                    descr: '{{ WTI-POWER-MIB::plugName }} State'
                    states:
                        - { value: 1, generic: 0, graph: 0, descr: outletOn }
                        - { value: 0, generic: 3, graph: 0, descr: outletOff }
                        - { value: 2, generic: 1, graph: 0, descr: outletReboot }
                        - { value: 4, generic: 2, graph: 0, descr: outletUnknown }
        temperature:
            data:
                -
                    oid: WTI-POWER-MIB::environmentUnitTemperature
                    num_oid: '.1.3.6.1.4.1.2634.3.200.10.1.3.{{ $index }}'
                    index: 'environmentUnitTemperature.{{ $index }}'
                    descr: 'Unit temperature'
        voltage:
            data:
                -
                    oid: WTI-POWER-MIB::environmentUnitVoltageA
                    num_oid: '.1.3.6.1.4.1.2634.3.200.10.1.5.{{ $index }}'
                    index: 'environmentUnitVoltageA.{{ $index }}'
                    descr: 'Branch A Voltage'
                    skip_values:
                    -
                      oid: WTI-POWER-MIB::environmentUnitVoltageA.1
                      op: '=='
                      value: "0"
                -
                    oid: WTI-POWER-MIB::environmentUnitVoltageB
                    num_oid: '.1.3.6.1.4.1.2634.3.200.10.1.8.{{ $index }}'
                    index: 'environmentUnitVoltageB.{{ $index }}'
                    descr: 'Branch B Voltage'
                    skip_values:
                    -
                      oid: WTI-POWER-MIB::environmentUnitVoltageB.1
                      op: '=='
                      value: "0"
                -
                    oid: WTI-POWER-MIB::environmentUnitVoltageC
                    num_oid: '.1.3.6.1.4.1.2634.3.200.10.1.11.{{ $index }}'
                    index: 'environmentUnitVoltageC.{{ $index }}'
                    descr: 'Branch C Voltage'
                    skip_values:
                    -
                      oid: WTI-POWER-MIB::environmentUnitVoltageC.1
                      op: '=='
                      value: "0"
                -
                    oid: WTI-POWER-MIB::environmentUnitVoltageD
                    num_oid: '.1.3.6.1.4.1.2634.3.200.10.1.14.{{ $index }}'
                    index: 'environmentUnitVoltageD.{{ $index }}'
                    descr: 'Branch D Voltage'
                    skip_values:
                    -
                      oid: WTI-POWER-MIB::environmentUnitVoltageD.1
                      op: '=='
                      value: "0"
        current:
            data:
                -
                    oid: WTI-POWER-MIB::plugTable
                    value: WTI-POWER-MIB::plugCurrent
                    num_oid: '.1.3.6.1.4.1.2634.3.100.200.1.7.{{ $index }}'
                    index: 'plugCurrent.{{ $index }}'
                    descr: '{{ WTI-POWER-MIB::plugName }} Current'
                    divisor: 10
                -
                    oid: WTI-POWER-MIB::environmentTables
                    value: WTI-POWER-MIB::environmentSystemTotalCurrent
                    num_oid: '.1.3.6.1.4.1.2634.3.200.60.{{ $index }}'
                    index: 'environmentSystemTotalCurrent.{{ $index }}'
                    descr: 'Total Unit Current'
                    divisor: 10
                -
                    oid: WTI-POWER-MIB::environmentTables
                    value: WTI-POWER-MIB::environmentBranchATotalCurrent
                    num_oid: '.1.3.6.1.4.1.2634.3.200.20.{{ $index }}'
                    index: 'environmentBranchATotalCurrent.{{ $index }}'
                    descr: 'Branch A Current'
                    divisor: 10
                    skip_values:
                    -
                      oid: WTI-POWER-MIB::environmentUnitVoltageA.1
                      op: '=='
                      value: "0"
                -
                    oid: WTI-POWER-MIB::environmentTables
                    value: WTI-POWER-MIB::environmentBranchBTotalCurrent
                    num_oid: '.1.3.6.1.4.1.2634.3.200.40.{{ $index }}'
                    index: 'environmentBranchBTotalCurrent.{{ $index }}'
                    descr: 'Branch B Current'
                    divisor: 10
                    skip_values:
                    -
                      oid: WTI-POWER-MIB::environmentUnitVoltageB.1
                      op: '=='
                      value: "0"
                -
                    oid: WTI-POWER-MIB::environmentTables
                    value: WTI-POWER-MIB::environmentBranchCTotalCurrent
                    num_oid: '.1.3.6.1.4.1.2634.3.200.51.{{ $index }}'
                    index: 'environmentBranchCTotalCurrent.{{ $index }}'
                    descr: 'Branch C Current'
                    divisor: 10
                    skip_values:
                    -
                      oid: WTI-POWER-MIB::environmentUnitVoltageC.1
                      op: '=='
                      value: "0"
                -
                    oid: WTI-POWER-MIB::environmentTables
                    value: WTI-POWER-MIB::environmentBranchDTotalCurrent
                    num_oid: '.1.3.6.1.4.1.2634.3.200.53.{{ $index }}'
                    index: 'environmentBranchDTotalCurrent.{{ $index }}'
                    descr: 'Branch D Current'
                    divisor: 10
                    skip_values:
                    -
                      oid: WTI-POWER-MIB::environmentUnitVoltageD.1
                      op: '=='
                      value: "0"
        power:
            data:
                -
                    oid: WTI-POWER-MIB::plugTable
                    value: WTI-POWER-MIB::plugPower
                    num_oid: '.1.3.6.1.4.1.2634.3.100.200.1.8.{{ $index }}'
                    index: 'plugPower.{{ $index }}'
                    descr: '{{ WTI-POWER-MIB::plugName }} Power'
                -
                    oid: WTI-POWER-MIB::environmentSystemTotalPower
                    num_oid: '.1.3.6.1.4.1.2634.3.200.70.{{ $index }}'
                    index: 'environmentSystemTotalPower.{{ $index }}'
                    descr: 'Total Unit Power'
                -
                    oid: WTI-POWER-MIB::environmentTables
                    value: WTI-POWER-MIB::environmentBranchATotalPower
                    num_oid: '.1.3.6.1.4.1.2634.3.200.30.{{ $index }}'
                    index: 'environmentBranchATotalPower.{{ $index }}'
                    descr: 'Branch A Power'
                    skip_values:
                    -
                      oid: WTI-POWER-MIB::environmentUnitVoltageA.1
                      op: '=='
                      value: "0"
                -
                    oid: WTI-POWER-MIB::environmentTables
                    value: WTI-POWER-MIB::environmentBranchBTotalPower
                    num_oid: '.1.3.6.1.4.1.2634.3.200.50.{{ $index }}'
                    index: 'environmentBranchBTotalPower.{{ $index }}'
                    descr: 'Branch B Power'
                    skip_values:
                    -
                      oid: WTI-POWER-MIB::environmentUnitVoltageB.1
                      op: '=='
                      value: "0"
                -
                    oid: WTI-POWER-MIB::environmentTables
                    value: WTI-POWER-MIB::environmentBranchCTotalPower
                    num_oid: '.1.3.6.1.4.1.2634.3.200.52.{{ $index }}'
                    index: 'environmentBranchCTotalPower.{{ $index }}'
                    descr: 'Branch C Power'
                    skip_values:
                    -
                      oid: WTI-POWER-MIB::environmentUnitVoltageC.1
                      op: '=='
                      value: "0"
                -
                    oid: WTI-POWER-MIB::environmentTables
                    value: WTI-POWER-MIB::environmentBranchDTotalPower
                    num_oid: '.1.3.6.1.4.1.2634.3.200.54.{{ $index }}'
                    index: 'environmentBranchDTotalPower.{{ $index }}'
                    descr: 'Branch D Power'
                    skip_values:
                    -
                      oid: WTI-POWER-MIB::environmentUnitVoltageD.1
                      op: '=='
                      value: "0"
