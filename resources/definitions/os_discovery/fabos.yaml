modules:
    mempools:
        data:
            -
                percent_used: SW-MIB::swMemUsage
    processors:
        data:
            -
                oid: SW-MIB::swCpuUsage
                num_oid: '.1.3.6.1.4.1.1588.2.1.1.1.26.1.{{ $index }}'
                index: 1
    sensors:
        additional_oids:
            data:
                -
                    oid:
                        - SW-MIB::swFCPortName
        temperature:
            data:
                -
                    oid: SW-MIB::swSensorTable
                    value: SW-MIB::swSensorValue
                    num_oid: '.1.3.6.1.4.1.1588.2.1.1.1.1.22.1.4.{{ $index }}'
                    descr: SW-MIB::swSensorInfo
                    skip_values:
                        -
                            oid: SW-MIB::swSensorValue
                            op: '='
                            value: -2147483648
                        -
                            oid: SW-MIB::swSensorType
                            op: '!='
                            value: 1

                -
                    oid: FA-EXT-MIB::swSfpTemperature
                    value: FA-EXT-MIB::swSfpTemperature
                    num_oid: ".1.3.6.1.4.1.1588.2.1.1.1.28.1.1.1.{{ $index }}"
                    descr: "{{ SW-MIB::swFCPortName:16 }} Temp"
                    entPhysicalIndex: "200000{{ $subindex16 }}"
                    group: 'transceiver'
                    index: "swSfpTemperature.{{ $subindex16 }}"

        fanspeed:
            data:
                -
                    oid: SW-MIB::swSensorTable
                    value: SW-MIB::swSensorValue
                    num_oid: '.1.3.6.1.4.1.1588.2.1.1.1.1.22.1.4.{{ $index }}'
                    descr: SW-MIB::swSensorInfo
                    skip_values:
                        -
                            oid: SW-MIB::swSensorValue
                            op: '='
                            value: -2147483648
                        -
                            oid: SW-MIB::swSensorType
                            op: '!='
                            value: 2
        dbm:
            data:
                -
                    oid: FA-EXT-MIB::swSfpRxPower
                    value: FA-EXT-MIB::swSfpRxPower
                    num_oid: ".1.3.6.1.4.1.1588.2.1.1.1.28.1.1.4.{{ $index }}"
                    descr: "{{ SW-MIB::swFCPortName:16 }} RX"
                    entPhysicalIndex: "200000{{ $subindex16 }}"
                    group: 'transceiver'
                    index: "swSfpRxPower.{{ $subindex16 }}"
                    low_warn_limit: -5
                    warn_limit: 1
                -
                    oid: FA-EXT-MIB::swSfpTxPower
                    value: FA-EXT-MIB::swSfpTxPower
                    num_oid: ".1.3.6.1.4.1.1588.2.1.1.1.28.1.1.5.{{ $index }}"
                    descr: "{{ SW-MIB::swFCPortName:16 }} TX"
                    entPhysicalIndex: "200000{{ $subindex16 }}"
                    group: 'transceiver'
                    index: "swSfpTxPower.{{ $subindex16 }}"
                    low_warn_limit: -5
                    warn_limit: 1
        state:
            data:
                -
                    oid: SW-MIB::swSensorTable
                    value: SW-MIB::swSensorStatus
                    num_oid: '.1.3.6.1.4.1.1588.2.1.1.1.1.22.1.3.{{ $index }}'
                    descr: SW-MIB::swSensorInfo
                    state_name: swSensorStatus
                    states:
                        - { value: 1, generic: 3, graph: 0, descr: 'unknown' }
                        - { value: 2, generic: 2, graph: 1, descr: 'faulty' }
                        - { value: 3, generic: 1, graph: 1, descr: 'below-min' }
                        - { value: 4, generic: 0, graph: 1, descr: 'nominal' }
                        - { value: 5, generic: 1, graph: 1, descr: 'above-max' }
                        - { value: 6, generic: 1, graph: 1, descr: 'absent' }
                    skip_values:
                        -
                            oid: SW-MIB::swSensorValue
                            op: '='
                            value: -2147483648
