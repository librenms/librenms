modules:
    mempools:
        data:
            -
                percent_used: AGENT-GENERAL-MIB::agentDRAMutilization
                index: 0
            -
                oid: DLINKSW-ENTITY-EXT-MIB::dEntityExtMemoryUtilTable
                total: DLINKSW-ENTITY-EXT-MIB::dEntityExtMemUtilTotal
                used: DLINKSW-ENTITY-EXT-MIB::dEntityExtMemUtilUsed
                free: DLINKSW-ENTITY-EXT-MIB::dEntityExtMemUtilFree
                descr: '{{ $subindex1 }} Memory'
                snmp_flags: '-OQ'

    os:
        sysDescr_regex: '/(D-Link )?(?<hardware>\S+) (?<version>[0-9.]+)?/'
        version:
            - DLINKSW-ENTITY-EXT-MIB::dEntityExtVersionRuntime.1
            - .1.3.6.1.2.1.16.19.2.0
            - .1.3.6.1.4.1.171.12.11.1.9.4.1.11.1
        serial:
            - .1.3.6.1.4.1.171.12.11.1.9.4.1.17.1
            - .1.3.6.1.4.1.171.12.1.1.12.0
    processors:
        data:
            -
                oid: AGENT-GENERAL-MIB::agentCPUutilizationIn5sec
                value: AGENT-GENERAL-MIB::agentCPUutilizationIn5sec
                num_oid: '.1.3.6.1.4.1.171.12.1.1.6.1.{{ $index }}'
            -
                oid: DLINKSW-ENTITY-EXT-MIB::dEntityExtCpuUtilOneMinute
                value: DLINKSW-ENTITY-EXT-MIB::dEntityExtCpuUtilOneMinute
                num_oid: '.1.3.6.1.4.1.171.14.5.1.7.1.4.{{ $index }}'
    sensors:
        temperature:
            data:
                -
                    oid: EQUIPMENT-MIB::swTemperatureTable
                    value: EQUIPMENT-MIB::swTemperatureCurrent
                    num_oid: '.1.3.6.1.4.1.171.12.11.1.8.1.2.{{ $index }}'
                    descr: 'Current Sys Temp {{ $index }}'
                    index: 'swTemperatureCurrent.{{ $index }}'
                -
                    oid: DLINKSW-ENTITY-EXT-MIB::dEntityExtEnvTempTable
                    value: DLINKSW-ENTITY-EXT-MIB::dEntityExtEnvTempCurrent
                    num_oid: '.1.3.6.1.4.1.171.14.5.1.1.1.1.4.{{ $index }}'
                    descr: '{{ DLINKSW-ENTITY-EXT-MIB::dEntityExtEnvTempDescr }}'
                    index: 'dEntityExtEnvTempCurrent.{{ $index }}'
                    low_limit: DLINKSW-ENTITY-EXT-MIB::dEntityExtEnvTempThresholdLow
                    high_limit: DLINKSW-ENTITY-EXT-MIB::dEntityExtEnvTempThresholdHigh
        state:
            data:
                -
                    oid: DLINKSW-ENTITY-EXT-MIB::dEntityExtEnvFanTable
                    value: DLINKSW-ENTITY-EXT-MIB::dEntityExtEnvFanStatus
                    state_name: dEntityExtEnvFanTable
                    num_oid: '.1.3.6.1.4.1.171.14.5.1.1.2.1.4.{{ $index }}'
                    descr: '{{ DLINKSW-ENTITY-EXT-MIB::dEntityExtEnvFanDescr }}'
                    index: 'dEntityExtEnvFanStatus.{{ $index }}'
                    states:
                        - { descr: Ok, graph: 1, value: 1, generic: 0 }
                        - { descr: Fault, graph: 1, value: 2, generic: 2 }
                -
                    oid: DLINKSW-ENTITY-EXT-MIB::dEntityExtEnvPowerTable
                    value: DLINKSW-ENTITY-EXT-MIB::dEntityExtEnvPowerStatus
                    state_name: dEntityExtEnvPowerTable
                    num_oid: '.1.3.6.1.4.1.171.14.5.1.1.3.1.6.{{ $index }}'
                    descr: '{{ DLINKSW-ENTITY-EXT-MIB::dEntityExtEnvPowerDescr }}'
                    index: 'dEntityExtEnvPowerStatus.{{ $index }}'
                    states:
                        - { descr: In Operation, graph: 1, value: 1, generic: 0 }
                        - { descr: Failed, graph: 1, value: 2, generic: 2 }
                        - { descr: Empty, graph: 1, value: 3, generic: 3 }
                -
                    oid: DLINKSW-ENTITY-EXT-MIB::dEntityExtEnvTempTable
                    value: DLINKSW-ENTITY-EXT-MIB::dEntityExtEnvTempStatus
                    state_name: dEntityExtEnvTempTable
                    num_oid: '.1.3.6.1.4.1.171.14.5.1.1.1.1.7.{{ $index }}'
                    descr: '{{ DLINKSW-ENTITY-EXT-MIB::dEntityExtEnvTempDescr }}'
                    index: 'dEntityExtEnvTempStatus.{{ $index }}'
                    states:
                        - { descr: Ok, graph: 1, value: 1, generic: 0 }
                        - { descr: Abnormal, graph: 1, value: 2, generic: 2 }
